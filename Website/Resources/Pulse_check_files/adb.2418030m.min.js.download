/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. cc1c92f1:kllj2b6b:1nk */
!function r(i,o,a){function s(n,e){if(!o[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);throw new Error("Cannot find module '"+n+"'")}t=o[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return s(t||e)},t,t.exports,r,i,o,a)}return o[n].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){var e=s(["dcn=","&pos=","&cmd=bid",""]);return r=function(){return e},e}function i(){var e=s(["","/bidRequest?"]);return i=function(){return e},e}function o(){var e=s(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return o=function(){return e},e}function s(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=e("../shim.js").polyfills,c=d.utils,d=(d.registerBidder,d.BANNER),u={AOL:"aol",VERIZON:"verizon",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},p={GET:"display-get"},l={GET:"mobile-get",POST:"mobile-post"},f={TAG:"iframe",TYPE:"iframe"},g={TAG:"img",TYPE:"image"},m=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],h=w(o(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),b=w(i(),"host"),v=w(r(),"dcn","pos","dynamicParams"),y={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},_="https",x=1;function w(o){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n[n.length-1]||{},i=[o[0]];return a.forEach(function(e,t){e=(c.isInteger(e)?n:r)[e];i.push(e,o[t+1])}),i.join("")}}function S(e){return e===u.AOL||e===u.VERIZON||e===u.ONEMOBILE}function A(e){if(S(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){e=e.params.imp[0];return e.id&&e.tagid&&(e.banner&&e.banner.w&&e.banner.h||e.video&&e.video.mimes&&e.video.minduration&&e.video.maxduration)}}function I(e){return S(e.bidder)&&e.params.dcn&&e.params.pos}function j(e){return((t=e.bidder)===u.AOL||t===u.VERIZON||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}function k(e){return e.userIdAsEids.filter(function(e){return-1!==m.indexOf(e.source)})}d={code:u.AOL,gvlid:25,aliases:[u.ONEMOBILE,u.ONEDISPLAY,u.VERIZON],supportedMediaTypes:[d],isBidRequestValid:function(e){return j(e)||(I(e=e)||A(e))},buildRequests:function(e,t){var n=this,r={};return t&&(r.gdpr=t.gdprConsent,r.uspConsent=t.uspConsent),e.map(function(e){var t,t=I(t=e)?l.GET:A(t)?l.POST:j(t)?p.GET:void 0;if(t)return n.formatBidRequest(t,e,r)})},interpretResponse:function(e,t){var n=e.body;if(n){e=this._parseBidResponse(n,t);if(e)return e}else c.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){t=!c.isEmpty(t)&&t[0].body;return t&&t.ext&&t.ext.pixels?this.parsePixelItems(t.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case p.GET:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case l.GET:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case l.POST:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n=e.params,r=n.server,e=n.region||"us";return y.hasOwnProperty(e)||(c.logWarn("Unknown region '".concat(e,"' for AOL bidder.")),e="us"),r=r||y[e],n.region=e,this.applyProtocol(h({host:r,network:n.network,placement:parseInt(n.placement),pageid:n.pageId||0,sizeid:n.sizeId||0,alias:n.alias||c.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(n,t)}))},buildOneMobileGetUrl:function(e,t){var n=e.params,r=n.dcn,i=n.pos,o=n.ext;"object"===a(e.userId)&&(o=o||{},k(e).forEach(function(e){o["eid"+e.source]=e.uids[0].id}));e=this.buildOneMobileBaseUrl(e);return r&&i&&(t=this.formatOneMobileDynamicParams(o,t),e+=v({dcn:r,pos:i,dynamicParams:t})),e},buildOneMobileBaseUrl:function(e){return this.applyProtocol(b({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat(_,":"):"".concat(_,"://")).concat(e)},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};e.bidFloor&&(n.bidfloor=e.bidFloor),c.assign(n,this.formatKeyValues(e.keyValues)),c.assign(n,this.formatConsentData(t));var r="";return c._each(n,function(e,t){r+="".concat(t,"=").concat(encodeURIComponent(e),";")}),r},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=x),c.assign(e,this.formatConsentData(t));var n="";return c._each(e,function(e,t){n+="&".concat(t,"=").concat(encodeURIComponent(e))}),n},buildOpenRtbRequestData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(c.deepSetValue(n,"regs.ext.gdpr",x),t.gdpr.consentString&&c.deepSetValue(n,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&c.deepSetValue(n,"regs.ext.us_privacy",t.uspConsent),"object"===a(e.userId)&&(n.user=n.user||{},n.user.ext=n.user.ext||{},0<(e=k(e)).length&&(n.user.ext.eids=e)),n},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return c._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=x,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,i=[];return!e||(e=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(function(e){var t=e.match(n)[0],e=e.match(r)[2];t&&t&&i.push({type:(t===g.TAG?g:f).TYPE,url:e})}),i},_parseBidResponse:function(e,t){var n,r;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)r=n.ext.encp;else if(null===(r=n.price)||isNaN(r))return void c.logError("Invalid price in bid response",u.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:r,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:S,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:d,unitIDKey:"placement",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],2:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=e("../shim.js").polyfills,u=i.Renderer,v=i.utils,y=i.config,p=(i.registerBidder,i.getIabSubCategory),a=i.BANNER,l=i.NATIVE,s=i.VIDEO,f=i.ADPOD,d=i.auctionManager,_=i.find,x=i.includes,g=i.OUTSTREAM,m=i.INSTREAM,c=i.getStorageManager,i="appnexus",w="https://ib.adnxs.com/ut/v3/prebid",h=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],S=["age","externalUid","segments","gender","dnt","language"],A=["geo","device_id"],I=["enabled","dongle","member_id","debug_timeout"],j={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},k={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},z="<script",C=/\/\/cdn\.adnxs\.com\/v/,T="trk.js",R=c(32,i),i={code:i,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[a,s,l],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(D),n=_(e,P),i={};!0===y.getConfig("coppa")&&(i={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return x(S,e)}).forEach(function(e){var t=v.convertCamelToUnderscore(e);i[t]=n.params.user[e]});var o,a=_(e,N);a&&a.params&&a.params.app&&(o={},Object.keys(a.params.app).filter(function(e){return x(A,e)}).forEach(function(e){return o[e]=a.params.app[e]}));var s=_(e,q);s&&s.params&&a.params.app&&a.params.app.id&&(h={appid:s.params.app.id});var d={},c={},u=R.getCookie("apn_prebid_debug")||null;if(u)try{d=JSON.parse(u)}catch(e){v.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var p=_(e,L);p&&p.debug&&(d=p.debug)}d&&d.enabled&&Object.keys(d).filter(function(e){return x(I,e)}).forEach(function(e){c[e]=d[e]});var l=_(e,U),f=l?parseInt(l.params.member,10):0,p=e[0].schain,l=_(e,V),g={tags:b(r),user:i,sdk:{source:"pbjs",version:"4.18.0-pre"},schain:p};l&&(g.iab_support={omidpn:"Appnexus",omidpv:"4.18.0-pre"}),0<f&&(g.member_id=f),a&&(g.device=o),s&&(g.app=h),y.getConfig("adpod.brandCategoryExclusion")&&(g.brand_category_uniqueness=!0),c.enabled&&(g.debug=c,v.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(g.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(g.us_privacy=t.uspConsent),t&&t.refererInfo&&(m={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},g.referrer_detection=m),_(e,F)&&e.filter(F).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,i=n.requireExactDuration,n=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,e=v.getMinValueFromArray(n),e=Math.floor(t/e);return r?Math.max(e,n.length):e}(t.mediaTypes.video),o=v.getMaxValueFromArray(r),e=e.filter(function(e){return e.uuid===t.bidId}),e=v.fill.apply(v,b(e).concat([n]));{var a;i?(n=Math.ceil(n/r.length),a=v.chunk(e,n),r.forEach(function(t,e){a[e].map(function(e){G(e,"minduration",t),G(e,"maxduration",t)})})):e.map(function(e){return G(e,"maxduration",o)})}return e}(r,t),n=g.tags.filter(function(e){return e.uuid!==t.bidId});g.tags=[].concat(b(n),b(e))});var m,s=v.deepAccess(e[0],"userId.criteoId"),h=[];s&&((m=[]).push({provider:"criteo",user_id:s}),h.push({source:"criteo.com",id:s}),g.tpuids=m);e=v.deepAccess(e[0],"userId.tdid");return e&&h.push({source:"adserver.org",id:e,rti_partner:"TDID"}),h.length&&(g.eids=h),r[0].publisher_id&&(g.publisher_id=r[0].publisher_id),function(e,t){var n=[],r={};!function(e){var t=!0;e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==v.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")));return t}(t)&&(r={withCredentials:!1});{var i;15<e.tags.length?(i=v.deepClone(e),v.chunk(e.tags,15).forEach(function(e){i.tags=e;e=JSON.stringify(i);n.push({method:"POST",url:w,data:e,bidderRequest:t,options:r})})):(e=JSON.stringify(e),n={method:"POST",url:w,data:e,bidderRequest:t,options:r})}return n}(g,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var i=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,t=(t=e)&&t.ads&&t.ads.length&&_(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&x(n.supportedMediaTypes,t.ad_type)&&((e=function(t,e,n){var r=v.getBidRequest(t.uuid,[n]),i={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(i.meta=v.assign({},i.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video)switch(v.assign(i,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),v.deepAccess(r,"mediaTypes.video.context")){case f:var o=p(r.bidder,e.brand_category_id);i.meta=v.assign({},i.meta,{primaryCatId:o});var o=e.deal_priority;i.video={context:f,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:o},i.vastUrl=e.rtb.video.asset_url;break;case g:i.adResponse=t,i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video,i.vastXml=e.rtb.video.content,e.renderer_url&&(o=_(n.bids,function(e){return e.bidId===t.uuid}),o=v.deepAccess(o,"renderer.options"),i.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=u.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(H)}catch(e){v.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return v.logMessage("AppNexus outstream video impression event")},loaded:function(){return v.logMessage("AppNexus outstream video loaded event")},ended:function(){v.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(i.adUnitCode,e,o));break;case m:i.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[l]){var a=e.rtb[l],s=e.viewability.config.replace("src=","data-src="),d=a.javascript_trackers;null==d?d=s:v.isStr(d)?d=[d,s]:d.push(s),i[l]={title:a.title,body:a.desc,body2:a.desc2,cta:a.ctatext,rating:a.rating,sponsoredBy:a.sponsored,privacyLink:a.privacy_link,address:a.address,downloads:a.downloads,likes:a.likes,phone:a.phone,price:a.price,salePrice:a.saleprice,clickUrl:a.link.url,displayUrl:a.displayurl,clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:d},a.main_img&&(i.native.image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(i.native.icon={url:a.icon.url,height:a.icon.height,width:a.icon.width})}else{v.assign(i,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var c;e.rtb.trackers&&(c=e.rtb.trackers[0].impression_urls[0],c=v.createTrackPixelHtml(c),i.ad+=c)}catch(e){v.logError("Error appending tracking pixel",e)}}return i}(e,t,r)).mediaType=function(e){e=e.ad_type;return e===s?s:e===l?l:a}(t),i.push(e))}),e.debug&&e.debug.debug_info&&(o=(o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),v.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),v.logMessage(o)),i;var o="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),v.logError(o),i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e){return n=v.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:v.transformBidderParamKeywords,publisherId:"number"},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,E(n.keywords)&&n.keywords.forEach(B),Object.keys(n).forEach(function(e){var t=v.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(v.isStr(e)&&O(e))t=e;else if(v.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];O(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var e="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),r=n.replace("dom_id=%native_dom_id%",e),i=document.getElementsByTagName("iframe"),o=!1,a=0;a<i.length&&!o;a++){var s=i[a];try{var d=s.contentDocument||s.contentWindow.document;if(d)for(var c=d.getElementsByTagName("script"),u=0;u<c.length&&!o;u++){var p=c[u];p.getAttribute("data-src")==n&&(p.setAttribute("src",r),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),o=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function E(e){return v.isArray(e)&&0<e.length}function B(e){E(e.value)&&""===e.value[0]&&delete e.value}function O(e){var t=e.match(C),n=null!=t&&1<=t.length,t=e.match(T),t=null!=t&&1<=t.length;return e.startsWith(z)&&t&&n}function D(n){var r,i,o={};o.sizes=M(n.sizes),o.primary_size=o.sizes[0],o.ad_types=[],o.uuid=n.bidId,n.params.placementId?o.id=parseInt(n.params.placementId,10):o.code=n.params.invCode,o.allow_smaller_sizes=n.params.allowSmallerSizes||!1,o.use_pmt_rule=n.params.usePaymentRule||!1,o.prebid=!0,o.disable_psa=!0,n.params.reserve&&(o.reserve=n.params.reserve),n.params.position&&(o.position={above:1,below:2}[n.params.position]||0),n.params.trafficSourceCode&&(o.traffic_source_code=n.params.trafficSourceCode),n.params.privateSizes&&(o.private_sizes=M(n.params.privateSizes)),n.params.supplyType&&(o.supply_type=n.params.supplyType),n.params.pubClick&&(o.pubclick=n.params.pubClick),n.params.extInvCode&&(o.ext_inv_code=n.params.extInvCode),n.params.publisherId&&(o.publisher_id=parseInt(n.params.publisherId,10)),n.params.externalImpId&&(o.external_imp_id=n.params.externalImpId),v.isEmpty(n.params.keywords)||(0<(e=v.transformBidderParamKeywords(n.params.keywords)).length&&e.forEach(B),o.keywords=e),n.mediaType!==l&&!v.deepAccess(n,"mediaTypes.".concat(l))||(o.ad_types.push(l),0===o.sizes.length&&(o.sizes=M([1,1])),n.nativeParams&&(r=n.nativeParams,i={},Object.keys(r).forEach(function(e){var t=k[e]&&k[e].serverName||k[e]||e,n=k[e]&&k[e].requiredParams;i[t]=v.assign({},n,r[e]),t!==k.image.serverName&&t!==k.icon.serverName||!i[t].sizes||(e=i[t].sizes,(v.isArrayOfNums(e)||v.isArray(e)&&0<e.length&&e.every(function(e){return v.isArrayOfNums(e)}))&&(i[t].sizes=M(i[t].sizes))),t===k.privacyLink&&(i.privacy_supported=!0)}),t=i,o[l]={layouts:[t]}));var e=v.deepAccess(n,"mediaTypes.".concat(s)),t=v.deepAccess(n,"mediaTypes.video.context");o.hb_source=e&&"adpod"===t?7:1,n.mediaType!==s&&!e||o.ad_types.push(s),(n.mediaType===s||e&&"outstream"!==t)&&(o.require_asset_url=!0),n.params.video&&(o.video={},Object.keys(n.params.video).filter(function(e){return x(h,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e],t=v.isArray(t)?t[0]:t;o.video[e]=j[e][t];break;case"frameworks":break;default:o.video[e]=n.params.video[e]}}),n.params.video.frameworks&&v.isArray(n.params.video.frameworks)&&(o.video_frameworks=n.params.video.frameworks)),n.renderer&&(o.video=v.assign({},o.video,{custom_renderer_present:!0})),n.params.frameworks&&v.isArray(n.params.frameworks)&&(o.banner_frameworks=n.params.frameworks);t=_(d.getAdUnits(),function(e){return n.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&o.ad_types.push(a),0===o.ad_types.length&&delete o.ad_types,o}function M(e){var t=[],n={};if(v.isArray(e)&&2===e.length&&!v.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function P(e){return!!e.params.user}function U(e){return!!parseInt(e.params.member,10)}function N(e){if(e.params)return!!e.params.app}function q(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function L(e){return!!e.debug}function F(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===f}function V(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&v.isArray(n.frameworks)&&(t=x(e.params.frameworks,6)),!t&&r&&r.frameworks&&v.isArray(r.frameworks)&&(t=x(e.params.video.frameworks,6)),t}function G(e,t,n){v.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function H(e){var t;t=e.adUnitCode,(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}t.exports=e("../shim.js").wrap({spec:i,unitIDKey:"placementId",floorKey:"reserve",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],3:[function(e,t,n){"use strict";function E(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function B(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("../shim.js").polyfills,D=i.utils,_=i.BANNER,x=i.VIDEO,M=i.config,f=i.find,a=i.isInteger,s=(i.registerBidder,[_,x]),g=100,m=300,h=3600,b=!0,v={JPY:1};function w(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function d(e){return Array.isArray(e)&&2===e.length&&a(e[0])&&a(e[1])}function S(e,t){if(d(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return 1}function A(e,t,n,r){var i,o,a,s,d=[],c="https://htlb.casalemedia.com/cygnus",u={},p=e[0].userId;if(p&&"object"===O(p)&&p.idl_env&&(i=d,o=u,a=p.idl_env,s="liveramp.com",p="LiveRampIp",m="idl",a?(o[p]=1,i.push({source:s,uids:[{id:a,ext:{rtiPartner:m}}]})):D.logWarn("Tried to add a user ID from Prebid, the ID received was null")),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var l,f=window.headertag.getIdentityInfo();if(f&&"object"===O(f))for(var g in f)f.hasOwnProperty(g)&&(u.hasOwnProperty(g)||!(l=f[g]).responsePending&&l.data&&"object"===O(l.data)&&Object.keys(l.data).length&&d.push(l.data))}var m,h={};h.id=e[0].bidderRequestId,h.site={},h.ext={},h.ext.source="prebid",h.ext.ixdiag={},e[0].schain&&(h.source={ext:{schain:e[0].schain}}),0<d.length&&(h.user={},h.user.eids=d),document.referrer&&""!==document.referrer&&(h.site.ref=document.referrer),t&&(t.gdprConsent&&((m=t.gdprConsent).hasOwnProperty("gdprApplies")&&(h.regs={ext:{gdpr:m.gdprApplies?1:0}}),m.hasOwnProperty("consentString")&&(h.user=h.user||{},h.user.ext={consent:m.consentString||""})),t.uspConsent&&D.deepSetValue(h,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(h.site.page=t.refererInfo.referer));var b={},t=t&&t.bidderCode||"ix",t=M.getConfig(t);if(t){if("object"===O(t.firstPartyData)){var v,y=t.firstPartyData,_="?";for(v in y)y.hasOwnProperty(v)&&(_+="".concat(encodeURIComponent(v),"=").concat(encodeURIComponent(y[v]),"&"));_=_.slice(0,-1),h.site.page+=_}"number"==typeof t.timeout&&(b.t=t.timeout),"boolean"==typeof t.detectMissingSizes?h.ext.ixdiag.dms=t.detectMissingSizes:h.ext.ixdiag.dms=!0}b.s=e[0].params.siteId,b.v=r,b.ac="j",b.sd=1,8.1===r&&(b.nf=1);var x=[],e={method:"GET",url:c,data:b},w=new Blob(["".concat(e.url).concat(D.parseQueryStringParameters(B(B({},e.data),{},{r:JSON.stringify(h)})))]).size,S=w,A=0,I=0,j=0;h.ext.ixdiag.msd=0,h.ext.ixdiag.msi=0,h.imp=[];for(var k,z,C=0,T=Object.keys(n),R=[];C<T.length&&x.length<4;)n[T[C]].hasOwnProperty("missingCount")&&(j=n[T[C]].missingCount),function(e,t){var n=new Blob([encodeURIComponent(JSON.stringify(e))]).size;if(!(n<t))for(;t<n;)e.hasOwnProperty("missingImps")&&0<e.missingImps.length?e.missingImps.pop():e.hasOwnProperty("ixImps")&&0<e.ixImps.length&&e.ixImps.pop(),n=new Blob([encodeURIComponent(JSON.stringify(e))]).size}(n[T[C]],8e3-w),n[T[C]].hasOwnProperty("missingImps")&&(I=n[T[C]].missingImps.length),(S+=new Blob([encodeURIComponent(JSON.stringify(n[T[C]]))]).size)<8e3?((k=h.imp).push.apply(k,E(n[T[C]].ixImps)),h.ext.ixdiag.msd+=j,h.ext.ixdiag.msi+=I,n[T[C]].hasOwnProperty("missingImps")&&R.push.apply(R,E(n[T[C]].missingImps)),C++):(z=D.deepClone(b),(k=h.imp).push.apply(k,E(R)),h.ext.ixdiag.sn=A,z.sn=A,A++,z.r=JSON.stringify(h),x.push({method:"GET",url:c,data:z}),R=[],S=w,h.imp=[],I=j=0,h.ext.ixdiag.msd=0,h.ext.ixdiag.msi=0);return w<S&&S<8e3&&x.length<4&&(r=D.deepClone(b),(e=h.imp).push.apply(e,E(R)),0<x.length&&(h.ext.ixdiag.sn=A,r.sn=A),r.r=JSON.stringify(h),x.push({method:"GET",url:c,data:r})),x}function I(e,t){for(var n=0;n<e.length;n++)if(t[0]==e[n][0]&&t[1]==e[n][1])return e.splice(n,1),1}i={code:"ix",gvlid:10,supportedMediaTypes:s,isBidRequestValid:function(e){if(!d(e.params.size))return D.logError("ix bidder params: bid size has invalid format."),!1;if(!S(e.sizes,e.params.size))return D.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!D.contains(s,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!D.deepAccess(e,"mediaTypes.banner.sizes")&&!D.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return D.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),n=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!n||t&&n&&(n=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof n&&"string"==typeof e&&e.match(/^[A-Z]{3}$/))))||(D.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,r,i,o,a,s,d,c=[],u={},p={},l=null,f={},g=B(B({},{detectMissingSizes:!0}),M.getConfig("ix")),m=0;m<e.length;m++)(l=e[m]).mediaType!==x&&!D.deepAccess(l,"mediaTypes.video")||(l.mediaType===x||S(l.mediaTypes.video.playerSize,l.params.size)?(p.hasOwnProperty(l.transactionId)||(p[l.transactionId]={}),p[l.transactionId].hasOwnProperty("ixImps")||(p[l.transactionId].ixImps=[]),p[l.transactionId].ixImps.push((a=void 0,(a=w(o=l)).video=D.deepClone(o.params.video),a.video.w=o.params.size[0],a.video.h=o.params.size[1],(o=D.deepAccess(o,"mediaTypes.video.context"))&&("instream"===o?a.video.placement=1:"outstream"===o?a.video.placement=4:D.logWarn("ix bidder params: video context '".concat(o,"' is not supported"))),a))):D.logError("Bid size is not included in video playerSize")),l.mediaType!==_&&!D.deepAccess(l,"mediaTypes.banner")&&(l.mediaType||l.mediaTypes)||(i=void 0,(i=w(r=l)).banner={},i.banner.w=r.params.size[0],i.banner.h=r.params.size[1],i.banner.topframe=D.inIframe()?0:1,n=i,u.hasOwnProperty(l.transactionId)||(u[l.transactionId]={}),u[l.transactionId].hasOwnProperty("ixImps")||(u[l.transactionId].ixImps=[]),u[l.transactionId].ixImps.push(n),g.hasOwnProperty("detectMissingSizes")&&g.detectMissingSizes&&(o=f,a=n,i=r=void 0,i=(n=l).transactionId,o.hasOwnProperty(i)?(r=[],o[i].hasOwnProperty("missingSizes")&&(r=o[i].missingSizes),I(r,n.params.size),o[i].missingSizes=r):D.deepAccess(n,"mediaTypes.banner.sizes")&&(I(r=D.deepClone(n.mediaTypes.banner.sizes),n.params.size),a={missingSizes:r,impression:a},o[i]=a)));for(s in f)if(f.hasOwnProperty(s)){var h=f[s].missingSizes;u.hasOwnProperty(s)||(u[s]={}),u[s].hasOwnProperty("missingImps")||(u[s].missingImps=[],u[s].missingCount=0);for(var b=f[s].impression,v=0;v<h.length;v++){var y=(y=b,d=h[v],(y=D.deepClone(y)).ext.sid="".concat(d[0],"x").concat(d[1]),y.banner.w=d[0],y.banner.h=d[1],y);u[s].missingImps.push(y),u[s].missingCount++}}return 0<Object.keys(u).length&&c.push.apply(c,E(A(e,t,u,7.2))),0<Object.keys(p).length&&c.push.apply(c,E(A(e,t,p,8.1))),c},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var r,i,o,a=e.body,s=a.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid"))for(var c=s[d].bid,u=JSON.parse(t.data.r),p=0;p<c.length;p++){var l=function(t,e){if(t)return f(e,function(e){return e.id===t})}(c[p].impid,u.imp);r=c[p],i=a.cur,o=l,l=void 0,l={},v.hasOwnProperty(i)?l.cpm=r.price/v[i]:l.cpm=r.price/g,l.requestId=r.impid,l.dealId=D.deepAccess(r,"ext.dealid"),l.netRevenue=b,l.currency=i,l.creativeId=r.hasOwnProperty("crid")?r.crid:"-",D.deepAccess(r,"ext.vasturl")?(l.vastUrl=r.ext.vasturl,l.width=o.video.w,l.height=o.video.h,l.mediaType=x,l.ttl=h):(l.ad=r.adm,l.width=r.w,l.height=r.h,l.mediaType=_,l.ttl=m),l.meta={},l.meta.networkId=D.deepAccess(r,"ext.dspid"),l.meta.brandId=D.deepAccess(r,"ext.advbrandid"),l.meta.brandName=D.deepAccess(r,"ext.advbrand"),r.adomain&&0<r.adomain.length&&(l.meta.advertiserDomains=r.adomain),n.push(l)}return n},transformBidParams:function(e,t){return D.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.exports=e("../shim.js").wrap({spec:i,unitIDKey:"siteId",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],4:[function(e,t,n){"use strict";var r=e("../shim.js").polyfills,p=(r.registerBidder,r.utils),l=r.config,i=r.BANNER,o=r.NATIVE,a=r.VIDEO,s=r.getRefererInfo,d=r.Renderer,c="medianet",u="https://prebid.media.net/video/bundle.js",f={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},g="client_timeout",m="client_bid_won",s=s(),h={};function b(e){e={domain:(e=e||{}).domain||h.urlData.domain,page:e.page||h.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||h.urlData.isTop};return p.assign(e,function(){if(h.pageMeta)return h.pageMeta;var e=v('link[rel="canonical"]',"href"),t=v('meta[property="og:url"]',"content"),n=v('meta[name="twitter:url"]',"content");return h.pageMeta=p.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),h.pageMeta}())}function v(e,t){e=function(e,t){try{var n=p.getWindowTop().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return e&&(t=e,(e=p.getWindowTop().document.createElement("a")).href=t,e.href)}function y(e,t){return e.filter(function(e){return e.type===t})}function _(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function x(e){var t={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},n=p.deepAccess(e,"mediaTypes.banner.sizes")||[],r=p.deepAccess(e,"mediaTypes.video")||{},i=p.deepAccess(e,"params.video")||{},r=p.assign({},i,r);if(p.isEmpty(r)||(t.video=r),0<n.length&&(t.banner=(o=n,p.isArray(o)&&2===o.length&&!p.isArray(o[0])?[_(o)]:o.map(_))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){p.logError("".concat(c," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());n=parseFloat(e.params.bidfloor||e.params.bidFloor);n&&(t.bidfloor=n);var o=function(e){if((n=document.getElementById(e))||-1===e.indexOf("/")||(t=p.getGptSlotInfoForAdUnitCode(e).divId,p.isStr(t)&&(n=document.getElementById(t))),n&&n.getBoundingClientRect){var t=n.getBoundingClientRect(),n={};return n.top_left={y:t.top,x:t.left},n.bottom_right={y:t.bottom,x:t.right},n}return null}(e.adUnitCode);return o&&t.banner&&0!==t.banner.length?(n={top_left:{x:(n=o).top_left.x+window.pageXOffset,y:n.top_left.y+window.pageYOffset},bottom_right:{x:n.bottom_right.x+window.pageXOffset,y:n.bottom_right.y+window.pageYOffset}},t.ext.coordinates=n,t.ext.viewability=S(o.top_left,w(t.banner)),.5<S(n.top_left,w(t.banner))?t.ext.visibility=f.ABOVE_THE_FOLD:t.ext.visibility=f.BELOW_THE_FOLD):t.ext.visibility=f.NOT_DETERMINED,t}function w(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function S(e,t){var n=t.w*t.h,r=k.getWindowSize(),t={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===r.w||-1===r.h?0:function(e,t,n,r){if(e.x>r.x||t.x<n.x||e.y>r.y||t.y<n.y)return 0;return(Math.min(t.x,r.x)-Math.max(e.x,n.x))*(Math.min(t.y,r.y)-Math.max(e.y,n.y))}(e,t,{x:0,y:0},{x:r.w,y:r.h})/n}function A(e,t){return{site:b(e[0].params.site),ext:(n=e[0],r=t,i=p.deepAccess(n,"params"),o=p.deepAccess(r,"gdprConsent"),a=p.deepAccess(r,"uspConsent"),s=p.deepAccess(n,"userId"),d=p.deepAccess(n,"schain")||{},c=k.getWindowSize(),u=!(!o||!o.gdprApplies),r=!!a,n=!!l.getConfig("coppa"),p.assign({},{customer_id:i.cid},{prebid_version:AdBridg.globals.version},{gdpr_applies:u},u&&{gdpr_consent_string:o.consentString||""},{usp_applies:r},r&&{usp_consent_string:a||""},{coppa_applies:n},-1!==c.w&&-1!==c.h&&{screen:c},s&&{user_id:s},AdBridg.globals.medianetGlobals.analyticsEnabled&&{analytics:!0},!p.isEmpty(d)&&{schain:d})),id:e[0].auctionId,imp:e.map(x),tmax:t.timeout||l.getConfig("bidderTimeout")};var n,r,i,o,a,s,d,c,u}function I(e,t){t={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=p.isArray(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=p.deepAccess(t,"0.auctionId")||"",n.cid=AdBridg.globals.medianetGlobals.cid||"",n.crid=t.map(function(e){return p.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=h.urlData.domain||"",n.requrl=h.urlData.page||"",n.istop=h.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}(e,t)};p.triggerPixel(p.buildUrl(t))}function j(e){var t=p.deepAccess(e,"context")||"",n=p.deepAccess(e,"vto");"outstream"==t&&n&&(e.renderer=((e=d.install({url:u})).setRender(function(n){window.mnet.queue.push(function(){var e={width:n.width,height:n.height,vastTimeout:n.vto,maxAllowedVastTagRedirects:n.mavtr,allowVpaid:n.avp,autoPlay:n.ap,preload:n.pl,mute:n.mt},t=n.dfp_id,t=p.getGptSlotInfoForAdUnitCode(t).divId||t;window.mnet.mediaNetoutstreamPlayer(n,t,e)})}),e))}window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],h.urlData={domain:p.parseUrl(s.referer).hostname,page:s.referer,isTop:s.reachedTop},AdBridg.globals.medianetGlobals=AdBridg.globals.medianetGlobals||{};var k={code:c,gvlid:142,supportedMediaTypes:[i,o,a],isBidRequestValid:function(e){return e.params?e.params.cid&&p.isStr(e.params.cid)&&!p.isEmptyStr(e.params.cid)?(p.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(p.logError("".concat(c," : cid should be a string")),!1):(p.logError("".concat(c," : Missing bid parameters")),!1)},buildRequests:function(e,t){e=A(e,t);return{method:"POST",url:(t=e.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(t)),data:JSON.stringify(e)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return p.logInfo("".concat(c," : response is empty")),n;e=e.body.bidList;return p.isArray(e)&&0!==e.length?(n=e.filter(function(e){return!1===(e=e).no_bid&&0<parseFloat(e.cpm)})).forEach(j):p.logInfo("".concat(c," : no bids")),n},getUserSyncs:function(e,t){t=t,t=!p.isEmpty(t)&&t[0].body&&t[0].body.ext&&p.isArray(t[0].body.ext.csUrl)?t[0].body.ext.csUrl:[];return e.iframeEnabled?y(t,"iframe"):e.pixelEnabled?y(t,"image"):void 0},onTimeout:function(e){try{I({name:g,value:e.length,related_data:e[0].timeout||l.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{I({name:m,value:e.cpm},[e])}catch(e){}},clearMnData:function(){h={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};t.exports=e("../shim.js").wrap({spec:k,unitIDKey:"crid",floorKey:"bidfloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],5:[function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=e("../shim.js").polyfills,s=o.config,d=(o.registerBidder,o.utils),c=o.BANNER,a=o.VIDEO,u="hb_pb",p="3.0.3",l="USD",f={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},o={code:"openx",gvlid:69,supportedMediaTypes:[c,a],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return d.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<d.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],r=i(e.reduce(function(e,t){var n;return n=t,(d.deepAccess(n,"mediaTypes.video")&&!d.deepAccess(n,"mediaTypes.banner")||n.mediaType===a?e[0]:e[1]).push(t),e},[[],[]]),2),e=r[0],r=r[1];return 0<r.length&&n.push(function(e,t){var n=[],r=!1,i=g(e,t),t=d._map(e,function(e){return e.params.unit});i.aus=d._map(e,function(e){return d.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),i.divIds=d._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),t.some(function(e){return e})&&(i.auid=t.join(","));e.some(function(e){return e.params.doNotTrack})&&(i.ns=1);!0!==s.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(i.tfcd=1);e.forEach(function(t){var e;t.params.customParams?(e=d._map(Object.keys(t.params.customParams),function(e){return function(e,t){t=t[e];d.isArray(t)&&(t=t.join(","));return(e.toLowerCase()+"="+t.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),e=window.btoa(e.join("&")),r=!0,n.push(e)):n.push("")}),r&&(i.tps=n.join(","));var o=[],a=!1;e.forEach(function(e){e=function(e,t){var n={},r=s.getConfig("currency.adServerCurrency")||l;"function"==typeof e.getFloor&&(n=e.getFloor({currency:r,mediaType:t,size:"*"}));e=n.floor||e.params.customFloor||0;return Math.round(1e3*e)}(e,c);e?(o.push(e),a=!0):o.push(0)}),a&&(i.aumfs=o.join(","));return{method:"GET",url:i.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:i,payload:{bids:e,startTime:new Date}}}(r,t)),0<e.length&&e.forEach(function(e){n.push(function(e,t){t=function(e,t){var n,r,i=g([e],t),o=d.deepAccess(e,"params.video")||{},a=d.deepAccess(e,"mediaTypes.video.context"),t=d.deepAccess(e,"mediaTypes.video.playerSize");d.isArray(e.sizes)&&2===e.sizes.length&&!d.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):d.isArray(e.sizes)&&d.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):d.isArray(t)&&2===t.length&&(n=parseInt(t[0],10),r=parseInt(t[1],10));Object.keys(o).forEach(function(e){"openrtb"===e?(o[e].w=n||o[e].w,o[e].v=r||o[e].v,i[e]=JSON.stringify(o[e])):e in i||"url"===e||(i[e]=o[e])}),i.auid=e.params.unit,i.vwd=n||o.vwd,i.vht=r||o.vht,"outstream"===a&&(i.vos="101");o.mimes&&(i.vmimes=o.mimes);e.params.test&&(i.vtest=1);return i}(e,t);return{method:"GET",url:t.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:t,payload:{bid:e,startTime:new Date}}}(e,t))}),n},interpretResponse:function(e,t){e=e.body;return((/avjp$/.test(t.url)?a:c)===a?function(e,t){var n=t.bid,r=(t.startTime,[]);{var i;void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(i=d.parseUrl(e.vastUrl).search||{},(t={}).requestId=n.bidId,t.ttl=300,t.netRevenue=!0,t.currency=e.currency,t.cpm=parseInt(e.pub_rev,10)/1e3,t.width=parseInt(e.width,10),t.height=parseInt(e.height,10),t.creativeId=e.adid,t.vastUrl=e.vastUrl,t.mediaType=a,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,r.push(t))}return r}:function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],o=0;o<r.length;o++){var a=r[o],s=parseInt(a.idx,10),d={};d.requestId=n[s].bidId,a.pub_rev&&(d.cpm=Number(a.pub_rev)/1e3,(s=a.creative[0])&&(d.width=s.width,d.height=s.height),d.creativeId=s.id,d.ad=a.html,a.deal_id&&(d.dealId=a.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=a.currency,a.tbd&&(d.tbd=a.tbd),d.ts=a.ts,d.meta={},a.brand_id&&(d.meta.brandId=a.brand_id),a.adv_id&&(d.meta.dspid=a.adv_id),i.push(d))}return i})(e,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:d.deepAccess(t,"0.body.ads.pixels")||d.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e,t){return d.convertTypes({unit:"string",customFloor:"number"},e)}};function g(e,t){var r,n=d.inIframe(),i={ju:s.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,r=window,i=document,o=i.documentElement;if(e){try{r=window.top,i=window.top.document}catch(e){return}o=i.documentElement,n=i.body,t=r.innerWidth||o.clientWidth||n.clientWidth,n=r.innerHeight||o.clientHeight||n.clientHeight}else o=i.documentElement,t=r.innerWidth||o.clientWidth,n=r.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)}(n),be:1,bc:e[0].params.bc||"".concat(u,"_").concat(p),dddid:d._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(i.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(i.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(i.gdpr=n.gdprApplies?1:0),"iab"===s.getConfig("consentManagement.cmpApi")&&(i.x_gdpr_f=1)),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),d.deepAccess(e[0],"crumbs.pubcid")&&d.deepSetValue(e[0],"userId.pubcid",d.deepAccess(e[0],"crumbs.pubcid")),r=i,t=e[0].userId,d._each(t,function(e,t){var n=f[t];if(f.hasOwnProperty(t))switch(t){case"digitrustid":r[n]=d.deepAccess(e,"data.id");break;case"lipb":r[n]=e.lipbid;break;case"parrableId":r[n]=e.eid;break;case"id5id":r[n]=e.uid;break;default:r[n]=e}}),i=r,e[0].schain&&(i.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat(function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return t[e]||""}).join(",")}).join("!")}(e.nodes)))),i}t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"unit",floorKey:"customFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],6:[function(e,t,n){"use strict";function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("../shim.js").polyfills,m=i.utils,o=i.BANNER,l=i.VIDEO,h=i.config,b=i.find,v=(i.registerBidder,{});h.getConfig("rubicon",function(e){m.mergeDeep(v,e.rubicon)});var c={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};m._each(c,function(e,t){return c[e]=t});var y={code:"rubicon",gvlid:52,supportedMediaTypes:[o,l],isBidRequestValid:function(e){if("object"!==g(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return m.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r,i,o,a,s=w(e,!0);return!!s&&("video"!==s||(r=e,i=!0,o=Object.prototype.toString.call([]),s=Object.prototype.toString.call(0),a={mimes:o,protocols:o,maxduration:s,linearity:s,api:o},Object.keys(a).forEach(function(e){Object.prototype.toString.call(m.deepAccess(r,"mediaTypes.video."+e))!==a[e]&&(i=!1,m.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),i))},buildRequests:function(e,u){var i,t=e.filter(function(e){return"video"===w(e)}).map(function(n){n.startTime=(new Date).getTime();var e,t,r,i,o,a={id:n.transactionId,test:h.getConfig("debug")?1:0,cur:["USD"],source:{tid:n.transactionId},tmax:u.timeout,imp:[{exp:h.getConfig("s2sConfig.defaultTtl"),id:n.adUnitCode,secure:1,ext:p({},n.bidder,n.params),video:m.deepAccess(n,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===v.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(i=h).getConfig("customPriceBucket")&&i.getConfig("customPriceBucket").buckets}[i.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:v.int_type||"pbjs"}}}}};if("rubicon"!==n.bidder&&(a.ext.prebid.aliases=p({},n.bidder,"rubicon")),"function"!=typeof n.getFloor||v.disableFloors)o=parseFloat(m.deepAccess(n,"params.floor"));else{try{e=n.getFloor({currency:"USD",mediaType:"video",size:x(n,"video")})}catch(e){m.logError("Rubicon: getFloor threw an error: ",e)}o="object"!==g(e)||"USD"!==e.currency||isNaN(parseInt(e.floor))?void 0:parseFloat(e.floor)}isNaN(o)||(a.imp[0].bidfloor=o),a.imp[0].ext[n.bidder].video.size_id=(i=n,o=parseInt(m.deepAccess(i,"params.video.size_id")),isNaN(o)?"outstream"===m.deepAccess(i,"mediaTypes.".concat(l,".context"))?203:201:o),r=n,i=u,(t=a)&&("object"===g(h.getConfig("app"))?t.app=h.getConfig("app"):t.site={page:_(r,i)},"object"===g(h.getConfig("device"))&&(t.device=h.getConfig("device")),r.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=m.assign({language:r.params.video.language},t[e].content))})),o=n,"object"===g((i=a).imp[0].video)&&void 0===i.imp[0].video.skip&&(i.imp[0].video.skip=o.params.video.skip),"object"===g(i.imp[0].video)&&void 0===i.imp[0].video.skipafter&&(i.imp[0].video.skipafter=o.params.video.skipdelay),"object"===g(i.imp[0].video)&&void 0===i.imp[0].video.pos&&("atf"===o.params.position?i.imp[0].video.pos=1:"btf"===o.params.position&&(i.imp[0].video.pos=3)),o=x(o,"video"),i.imp[0].video.w=o[0],i.imp[0].video.h=o[1],u.gdprConsent&&("boolean"==typeof u.gdprConsent.gdprApplies&&(s=u.gdprConsent.gdprApplies?1:0),m.deepSetValue(a,"regs.ext.gdpr",s),m.deepSetValue(a,"user.ext.consent",u.gdprConsent.consentString)),u.uspConsent&&m.deepSetValue(a,"regs.ext.us_privacy",u.uspConsent);var s=m.deepAccess(u,"bids.0.userIdAsEids");s&&s.length&&(m.deepSetValue(a,"user.ext.eids",s),(d=b(a.user.ext.eids,function(e){return"liveintent.com"===e.source}))&&(m.deepSetValue(a,"user.ext.tpid",{source:d.source,uid:d.uids[0].id}),d.ext&&d.ext.segments&&m.deepSetValue(a,"rp.target.LIseg",d.ext.segments)));s=h.getConfig("user.id");s&&m.deepSetValue(a,"user.id",s),!0===h.getConfig("coppa")&&m.deepSetValue(a,"regs.coppa",1),n.schain&&S(n.schain)&&m.deepSetValue(a,"source.ext.schain",n.schain);var d=m.assign({},n.params.inventory,h.getConfig("fpd.context")),s=m.assign({},n.params.visitor,h.getConfig("fpd.user"));m.isEmpty(d)&&m.isEmpty(s)||(c={bidders:[u.bidderCode],config:{fpd:{}}},m.isEmpty(d)||(c.config.fpd.site=d),m.isEmpty(s)||(c.config.fpd.user=s),m.deepSetValue(a,"ext.prebid.bidderconfig.0",c));var c=m.deepAccess(n,"fpd.context.pbAdSlot");return"string"==typeof c&&c&&m.deepSetValue(a.imp[0].ext,"context.data.pbadslot",c),["name","adSlot"].forEach(function(e){var t=m.deepAccess(n,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&m.deepSetValue(a.imp[0].ext,"context.data.adserver.".concat(e.toLowerCase()),t)}),n.storedAuctionResponse&&m.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",n.storedAuctionResponse.toString()),m.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",u.auctionStart),{method:"POST",url:"https://".concat(v.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:a,bidRequest:n}});return!0!==v.singleRequest?t.concat(e.filter(function(e){return"banner"===w(e)}).map(function(e){var r=y.createSlotParams(e,u);return{method:"GET",url:"https://".concat(v.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:y.getOrderedParams(r).reduce(function(e,t){var n=r[t];return m.isStr(n)&&""!==n||m.isNumber(n)?"".concat(e).concat(s(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(i=e.filter(function(e){return"banner"===w(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(i).reduce(function(t,e){var n,r;return n=i[e],r=10,n.map(function(e,t){return t%r==0?n.slice(t,t+r):null}).filter(function(e){return e}).forEach(function(e){var r=y.combineSlotUrlParams(e.map(function(e){return y.createSlotParams(e,u)}));t.push({method:"GET",url:"https://".concat(v.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:y.getOrderedParams(r).reduce(function(e,t){var n=r[t];return m.isStr(n)&&""!==n||m.isNumber(n)?"".concat(e).concat(s(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","ppuid","eid_pubcid.org","eid_sharedid.org","eid_criteo.com","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(i){if(1===i.length)return i[0];var r=i.reduce(function(t,n,r){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(i.length)),t[e].splice(r,1,n[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),n=t.match(o);r[e]=n?n[1]:t}),r},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n,r=e.params,i=x(e,"banner"),o=f(r.latLong||[],2),a=o[0],o=o[1],s={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<(r.floor=parseFloat(r.floor))?r.floor:.01,rp_secure:"1",tk_flint:"".concat(v.int_type||"pbjs_lite","_v4.18.0-pre"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":e.code,rf:_(e,t)};if("function"==typeof e.getFloor&&!v.disableFloors){try{n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){m.logError("Rubicon: getFloor threw an error: ",e)}s.rp_hard_floor="object"!==g(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor}s.p_pos="atf"===r.position||"btf"===r.position?r.position:"",e.userIdAsEids&&e.userIdAsEids.length&&((d=b(e.userIdAsEids,function(e){return"adserver.org"===e.source}))&&(s.tpid_tdid=d.uids[0].id),(d=b(e.userIdAsEids,function(e){return"liveintent.com"===e.source}))&&(s["tpid_liveintent.com"]=d.uids[0].id,d.ext&&Array.isArray(d.ext.segments)&&d.ext.segments.length&&(s["tg_v.LIseg"]=d.ext.segments.join(","))),(d=b(e.userIdAsEids,function(e){return"liveramp.com"===e.source}))&&(s.x_liverampidl=d.uids[0].id),(d=b(e.userIdAsEids,function(e){return"sharedid.org"===e.source}))&&(s["eid_sharedid.org"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype,"^").concat(d.uids[0].ext.third)),(d=b(e.userIdAsEids,function(e){return"pubcid.org"===e.source}))&&(s["eid_pubcid.org"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype)),(d=b(e.userIdAsEids,function(e){return"criteo.com"===e.source}))&&(s["eid_criteo.com"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype)));var d=h.getConfig("user.id");if(d)s.ppuid=d;else for(var c=0;e.userIdAsEids&&c<e.userIdAsEids.length;c++)if(e.userIdAsEids[c].uids){var u=b(e.userIdAsEids[c].uids,function(e){return e.ext&&"ppuid"===e.ext.stype});if(u&&u.id){s.ppuid=u.id;break}}t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s.gdpr=Number(t.gdprConsent.gdprApplies)),s.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(s.us_privacy=encodeURIComponent(t.uspConsent));var p=m.assign({},r.visitor,h.getConfig("fpd.user"));Object.keys(p).forEach(function(e){null!=p[e]&&"keywords"!==e&&(s["tg_v.".concat(e)]="object"!==g(p[e])||Array.isArray(p[e])?p[e].toString():JSON.stringify(p[e]))});var l=m.assign({},r.inventory,h.getConfig("fpd.context"));Object.keys(l).forEach(function(e){null!=l[e]&&"keywords"!==e&&(s["tg_i.".concat(e)]="object"!==g(l[e])||Array.isArray(l[e])?l[e].toString():JSON.stringify(l[e]))});r=(r.keywords||[]).concat(m.deepAccess(h.getConfig("fpd.user"),"keywords")||[],m.deepAccess(h.getConfig("fpd.context"),"keywords")||[]);s.kw=Array.isArray(r)&&r.length?r.join(","):"";r=m.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof r&&r&&(s["tg_i.pbadslot"]=r.replace(/^\/+/,""));r=m.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof r&&r&&(s["tg_i.dfp_ad_unit_code"]=r.replace(/^\/+/,"")),!0===h.getConfig("coppa")&&(s.coppa=1),e.schain&&S(e.schain)&&(s.rp_schain=y.serializeSupplyChain(e.schain)),s},serializeSupplyChain:function(e){if(!S(e))return"";var t=e.ver,n=e.complete,e=e.nodes;return"".concat(t,",").concat(n,"!").concat(y.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var d=e.bidRequest;if(!(s=s.body)||"object"!==g(s))return[];if(s.seatbid){var t=m.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&m.logWarn("Rubicon: Error in video response");var i=[];return s.seatbid.forEach(function(r){(r.bid||[]).forEach(function(e){var t={requestId:d.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:r.seat,ttl:300,netRevenue:!1!==v.netRevenue,width:e.w||m.deepAccess(d,"mediaTypes.video.w")||m.deepAccess(d,"params.video.playerWidth"),height:e.h||m.deepAccess(d,"mediaTypes.video.h")||m.deepAccess(d,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var n=m.deepAccess(s,"ext.responsetimemillis.rubicon");d&&n&&(d.serverResponseTimeMs=n),m.deepAccess(e,"ext.prebid.type")===l?(t.mediaType=l,(n=m.deepAccess(e,"ext.prebid.targeting"))&&"object"===g(n)&&(t.adserverTargeting=n),e.ext.prebid.cache&&"object"===g(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(t.videoCacheKey=n.hb_uuid,t.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):m.logWarn("Rubicon: video response received non-video media type"),i.push(t)})}),i}t=s.ads;return"object"!==g(d)||Array.isArray(d)||"video"!==w(d)||"object"!==g(t)||(t=t[d.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,n){if("ok"!==t.status)return e;var r,i,o,a=Array.isArray(d)?d[n]:d;return a&&"object"===g(a)?(r={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==v.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(r.mediaType=t.creative_type),t.creative_type===l?(r.width=a.params.video.playerWidth,r.height=a.params.video.playerHeight,r.vastUrl=t.creative_depot_url,r.impression_id=t.impression_id,r.videoCacheKey=t.impression_id):(r.ad=(i=t.script,o=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(i,"<\/script>\n</div>\n</body>\n</html>")),i=f(c[t.size_id].split("x").map(function(e){return Number(e)}),2),r.width=i[0],r.height=i[1]),r.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(r)):m.logError("Rubicon: bidRequest undefined at index position:".concat(n),d,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,r){if(!d&&e.iframeEnabled){e="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?e+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):e+="?gdpr_consent=".concat(n.consentString)),r&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(r))),d=!0,{type:"iframe",url:"https://".concat(v.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return m.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function _(e,t){var n=h.getConfig("pageUrl"),n=e.params.referrer||n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function x(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(m.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(r=e.sizes[0]),r}var i,r=[];return Array.isArray(n.sizes)?r=n.sizes:void 0!==m.deepAccess(e,"mediaTypes.banner.sizes")?r=a(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?r=a(e.sizes):m.logWarn("Rubicon: no sizes are setup or found"),i=[15,2,9],r.sort(function(e,t){var n=i.indexOf(e),r=i.indexOf(t);return-1<n||-1<r?-1===n?1:-1===r?-1:n-r:e-t})}function a(e){return m.parseSizesInput(e).reduce(function(e,t){t=parseInt(c[t],10);return t&&e.push(t),e},[])}function w(e,t){var n=1<arguments.length&&void 0!==t&&t;if(t=e,"object"===g(m.deepAccess(t,"params.video"))&&void 0!==m.deepAccess(t,"mediaTypes.".concat(l)))if(-1!==["outstream","instream"].indexOf(m.deepAccess(e,"mediaTypes.".concat(l,".context")))){if(!(x(e,"video").length<2))return n&&m.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video";n&&m.logError("Rubicon: could not determine the playerSize of the video")}else n&&m.logError("Rubicon: mediaTypes.video.context must be outstream or instream");else{if(0!==x(e,"banner").length)return n&&m.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner";n&&m.logError("Rubicon: could not determine the sizes for banner request")}}function S(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&n.every(function(e){return t.hasOwnProperty(e)})},!0))||m.logError("Rubicon: required schain params missing")),t}function s(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var d=!1;t.exports=e("../shim.js").wrap({spec:y,unitIDKey:"zoneId",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],7:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=e("../shim.js").polyfills,c=d.BANNER,u=d.VIDEO,p=(d.registerBidder,d.utils),l=d.config,f=!0,g=null,u={gvlid:28,code:"triplelift",supportedMediaTypes:[c,u],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e){var t={},n=e[0].schain,r=function(){var e={},t=p.assign({},l.getConfig("fpd.context")),n=p.assign({},l.getConfig("fpd.user"));return h(e,t),h(e,n),e}();t.imp=e.map(function(e,t){t={id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var n;"function"==typeof e.getFloor&&("object"!==i(n=e.getFloor({currency:"USD",mediaType:"banner",size:v(e.sizes)}))||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor)))}return null!==t?t:e.params.floor}(e)};return m(e)?t.video=function(e){e=a(a({},e.params.video),e.mediaTypes.video);e.w||(e.w=e.playerSize[0][0]);e.h||(e.h=e.playerSize[0][1]);"instream"===e.context&&(e.placement=1);return delete e.playerSize,e}(e):e.mediaTypes.banner&&(t.banner={format:v(e.sizes)}),t});e=[].concat(s(function(e){return b(e,"tdid","adserver.org","TDID")}(e)),s(function(e){return b(e,"idl_env","liveramp.com","idl")}(e)),s(function(e){return b(e,"criteoId","criteo.com","criteoId")}(e)));0<e.length&&(t.user={ext:{eids:e}});r=function(e,t){var n={};p.isEmpty(e)||(n.schain=a({},e));p.isEmpty(t)||(n.fpd=a({},t));return n}(n,r);p.isEmpty(r)||(t.ext=r);return t}(e);return n=p.tryAppendQueryString(n,"lib","prebid"),n=p.tryAppendQueryString(n,"v","4.18.0-pre"),t&&t.refererInfo&&(e=t.refererInfo.referer,n=p.tryAppendQueryString(n,"referrer",e)),t&&t.timeout&&(n=p.tryAppendQueryString(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(f=t.gdprConsent.gdprApplies,n=p.tryAppendQueryString(n,"gdpr",f.toString())),void 0!==t.gdprConsent.consentString&&(g=t.gdprConsent.consentString,n=p.tryAppendQueryString(n,"cmp_cs",g))),t&&t.uspConsent&&(n=p.tryAppendQueryString(n,"us_privacy",t.uspConsent)),!0===l.getConfig("coppa")&&(n=p.tryAppendQueryString(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),p.logMessage("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",e=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(n={requestId:e.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},m(e)&&(n.vastXml=t.ad,n.mediaType="video"),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain));return n}(n,e)})},getUserSyncs:function(e,t,n,r){var i=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(i){e="https://eb2.3lift.com/sync?";return"image"===i&&(e=p.tryAppendQueryString(e,"px",1),e=p.tryAppendQueryString(e,"src","prebid")),null!==g&&(e=p.tryAppendQueryString(e,"gdpr",f),e=p.tryAppendQueryString(e,"cmp_cs",g)),r&&(e=p.tryAppendQueryString(e,"us_privacy",r)),[{type:i,url:e}]}}};function m(e){return e.mediaTypes.video&&(e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase())}function h(t,n){p.isEmpty(n)||Object.keys(n).forEach(function(e){null!=n[e]&&(t[e]=n[e])})}function b(e,t,n,r){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((i=n,o=r,function(e){return{source:i,uids:[{id:e,ext:{rtiPartner:o}}]}}));var i,o,a}function v(e){return e.filter(y).map(function(e){return{w:e[0],h:e[1]}})}function y(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:u,unitIDKey:"inventoryCode",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":28}],8:[function(e,t,n){t.exports=e(7)},{"../shim.js":28}],9:[function(e,t,n){var o=e("./utils.js");t.exports=o.wrapAsync(function(n,r){var i,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(i=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===i.readyState){var e=i.status;if(200<=e&&e<300||304===e){if(n.rawProcessor)try{n.rawProcessor(i)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var t=JSON.parse(i.responseText||"null");r(null,t,i)}catch(e){r({err:e,type:"parse"},"",i)}else r(null,i.responseText,i)}else r(0===e?{err:"",type:"timeout"}:{err:i.statusText,type:"status="+e},"",i)}}):(e=!0,(i=new window.XDomainRequest).onload=o.wrapAsync(function(){if(n.rawProcessor)try{n.rawProcessor(i)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var e=JSON.parse(i.responseText||"null");r(null,e,i)}catch(e){r({err:e,type:"parse"},"",i)}else r(null,i.responseText,i)}),i.onerror=o.wrapAsync(function(e){r({err:e,type:"error"},"",i)}),i.ontimeout=o.wrapAsync(function(e){r({err:e,type:"timeout"},"",i)}),i.onprogress=function(){}),i.open(t,n.url),0!==n.max_ms&&(i.timeout=n.max_ms||3e3,o.logl("at","Ajax >",n.url,i.timeout)),e||(n.withCredentials&&(i.withCredentials=!0),o.each(n.headers,function(e,t){i.setRequestHeader(t,e)}),n.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",n.contentType||"text/plain")),i.send("POST"===t&&n.data)})},{"./utils.js":30}],10:[function(e,t,s){function r(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var p=e("./utils.js"),d=e("./config.js"),l={USD:1,EUR:2},f={banner:1,native:2,video:3},i=r(),o="aX0";s.id=[2,o,i].join(",");var c="";d.afterConsent(function(e,t,n){try{c=(window.__tcfapi?"2":window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+n,e&&(c+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(c+=".u"+(t.version||0)+(t.uspString||""))}catch(e){p.err("ClogErr",e)}e&&e.gdprApplies||(o=(o=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+r(),p.cw("_adb",o,365),s.id=[2,o,i].join(","))});function u(e,t,n,r,i){g[e]||(g[e]=[]),g[e].push(i),a[e]=r,m[e]||(m[e]=setTimeout(function(){h(e,t)},n))}var g={},a={},m={},h=function(e,t){var n,r;clearTimeout(m[e]),m[e]=!1,g[e]&&g[e].length&&(n=a[e],r=3===e?"1//"+g[e].length+n:"",r+=g[e].join(n),g[e]=[],y(e,t,r))};s.flushNow=function(){for(var e in g)h(e)};function b(e,t){return _(e)+"`"+_(t)}function v(e){var t=[];return p.each(e,function(e){e=e.split("x");2==e.length&&t.push(b(e[0],e[1]))}),t.join(".")}var y=function(e,t,n){var r=s.id,i=function(){if(!g[3]||!g[3].length)return"";var e=g[3].join("&e=");return g[3]=[],e}(),o=p.vp(),a="https://adspsp.com/pt/"+d.getId()+"/"+e+"/"+t+"/?a="+r+"&aa="+c+"&b="+n+"&e="+i+"&c="+encodeURIComponent(p.url().href)+"&d="+encodeURIComponent(p.url().referrer)+"&f="+p.pgts().join(".")+"&g="+p.perfts()+"&u=cc1c92f1:kllj2b6b:1nk&v="+_(o.w)+"."+_(o.h)+"."+_(o.y)+"."+_(document.body.clientHeight),a=d.deca(a);for(p.each(x,function(e,t){p.isarr(e)||(e=[e]),p.each(e,function(e){a+="&"+t+"="+encodeURIComponent(e)})});w.length;)delete x[w.pop()];p.each(S,function(e,t){a+="&"+t+"="+encodeURIComponent(e)}),S={},a+=E(),p.pixel(a,!0)},_=function(e){return(parseInt(e,10)||0).toString(36)},x={};s.meta=p.thread(function(e,t){x[e]=t});var w=[];s.metaqx=p.thread(function(e,t){-1==w.indexOf(e)&&w.push(e),x[e]?p.isarr(x[e])||(x[e]=[x[e]]):x[e]=[],x[e].push(t)});var S={};s.ctr=p.thread(function(e,t){void 0===t&&(t=1),t&&(S[e]=(S[e]||0)+t)}),s.auctionConfigured=p.thread(function(e){var r=[];e.eachUnit(function(e){var n=[],t=v(e.all_sizes);e.eachBidReqConf(function(e){var t,t=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),e=v(e.all_sizes);n.push(t+"^"+e)}),r.push(e.id+"^"+t+":"+n.join(","))});var t=e.instancectr+"//"+r.length+"-"+r.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),y(1,1,t)});function A(e,t){var n=e._origin?t.id(e._origin.config.unit.unique_id):"";n?(d=(p.dts()-e.ts)/1e3,c=0|Math.max(0,e.extras.ttl-d),n+="@"+p.b62(c)):n=p.b62(0|e.ms);var r,i,o,a,s,d,c,u=[n];return(e._bid_cpm||e.extras.dealid)&&(r=t.id(e.width+"x"+e.height),i=p.b62(e.extras.ttl),o=l[e.extras.cur]||(e.extras.cur?t.id(e.extras.cur):""),a=e.extras.nr?1:0,s=f[e.extras.mediaType]||0,d=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",c=e.extras.dealid?t.id(e.extras.dealid):"",n=e.cpm,u=u.concat([r,i,o,a,s,d,c,n]),e._bid_cpm!=e.cpm&&(u.push(e._bid_cpm),u.push(e._min_cpm),e.blocked&&u.push(t.id(e.blocked)))),u.join(",")}function I(){this.reset()}I.prototype.reset=function(){this.ids={},this.data=[],this.length=0},I.prototype.id=function(e){var t;return e=String(e),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=p.b62(this.data.push(t)-1)),this.ids[e]},s.auctionCompleted=p.thread(function(t){var a=new I,n=[],r=0;t.eachUnit(function(i){var e=[a.id(t.instancectr),a.id(t.id),a.id(i.id),a.id(i.unique_id)].join(","),o=[];i.eachBidReqConf(!1,function(e){var r=a.id(e.bidder_id)+","+a.id(e.bidder_unit_id);e.responses.length?p.each(e.responses,function(e){var t=i.getWinner()===e?1:"",n=r,e=A(e,a);e&&(n+=","+t+","+e),o.push(n)}):o.push(r)}),encoded_unit=e+":"+o.join(":"),r+=encoded_unit.length,n.push(encoded_unit),3e3<r+a.length&&(y(11,2,n.join("&b=")+"&bi="+a.data.join(",")),a.reset(),n=[],r=0)}),r&&y(11,2,n.join("&b=")+"&bi="+a.data.join(","))}),s.bidRendered=p.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var n=JSON.stringify(e.extras);"{}"!=n&&t.push(encodeURIComponent(n));t="1:"+t.join(",");d.libSettings().record_bidids&&(t+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),u(12,1,100,"&b=",t)}),s.enhRendered=p.thread(function(e,t,n){n=[e,t,_(n.advertiserId),_(n.campaignId),_(n.creativeId),_(n.versionId)];u(12,1,100,"&b=","3:"+n.join(","))}),s.gptRendered=p.thread(function(e,t,n){u(12,1,100,"&b=","2:"+[e.instancectr,t.id,_(n.advertiserId),_(n.campaignId),_(n.creativeId),n.isEmpty||"",_(n.lineItemId),n.size?b(n.size[0],n.size[1]):"",_(n.sourceAgnosticCreativeId),_(n.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=p.thread(function(e,t,n){u(15,1,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=p.thread(function(e){u(16,1,100,"&b=","1:"+JSON.stringify(e))});var j,k,z=new I,C={},T=function(){var e,n,r;clearTimeout(j),j=!1,k?j=setTimeout(T,100):(e=C,C={},k=z,z=new I,n=[],r=0,p.each(e,function(e,t){e=t+":"+e.join(":");r+=e.length,n.push(e),3e3<r+k.length&&(y(13,2,n.join("&b=")+"&bi="+k.data.join(",")),n=[],r=0)}),r&&y(13,2,n.join("&b=")+"&bi="+k.data.join(",")),k=!1)};s.lateBid=p.thread(function(e){var t=[z.id(e.config.unit.auction.instancectr),z.id(e.config.unit.auction.id),z.id(e.config.unit.id),z.id(e.config.unit.unique_id)].join(","),e=[z.id(e.config.bidder_id),z.id(e.config.bidder_unit_id),"",A(e,z)].join(",");C[t]||(C[t]=[]),C[t].push(e),j=j||setTimeout(T,500)}),p.onerr(function(){try{var t="";p.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+p.perfts()+":"+t,u(3,1,1e3,"&e=",t)}catch(e){p.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=p.thread(function(e){u(17,1,500,"&b=",e)}),p.onrec(s.rec);var R={};s.sqz=p.thread(function(e,t,n,r,i){var o,a=t+"."+r;R[a]||(o=new I,R[a]={qk:t,qd:r,s:o,d:[]}),p.isarr(n)||(n=[n]);var s=[];p.each(n,function(e){s.push(R[a].s.id(e))}),s=s.join(","),R[a].d.push(s+":"+i),u(18,1,e,"","")});var E=function(){var e=R;R={},g[18]=[];var n="";return p.each(e,function(t,e){n+="&"+t.qk+"="+t.s.data.join(","),p.each(t.d,function(e){n+="&"+t.qd+"="+e})}),n}},{"./config.js":12,"./utils.js":30}],11:[function(e,t,n){var m=e("./utils"),h=(e("./unit"),e("./analytics")),b=e("./modules"),v=e("./config"),y=0;t.exports=function(){var r,i;this.instancectr=++y,this.id=m.genID("A"),this.uuid=m.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,v.afterConsent(function(e,t){r=e,i=t}),this.ajax_ms=v.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var s,o=this,a={},d=[],c=[],u=[],p=!1,l=[],f=!1;this.addUnit=function(e){return c.push(e),u.push(e.alias),e.auction=o,e.eachBidder(function(e,t){!t.uspSupport&&i&&"Y"===i.uspString[2]||a[e]||(a[e]=t,.5<Math.random()?d.push(e):d.unshift(e))}),o.max_ms=o.max_ms?Math.min(o.max_ms,e.max_ms):e.max_ms,(!o.ajax_ms||o.ajax_ms<o.max_ms)&&(o.ajax_ms=o.max_ms+200),o},this.ctUnits=function(){return c.length},this.hasUnit=function(){return 0<c.length},this.eachUnit=function(e){m.each(c,e)},this.findUnit=function(e){for(var t=0;t<c.length;++t)if(e(c[t]))return c[t];return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return o.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return o.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.markBidEmpty=function(e){var t=o.getUnitByBidReqId(e);t?t.addEmptyBid(e):m.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){o.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return p},this.lock=function(e){-1==l.indexOf(e)&&(m.log("Auction ",o.id," locked: ",e),l.push(e))},this.unlock=m.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),m.log("Auction ",o.id," unlocked: ",e,l),!l.length&&f&&f()):m.log("Auction ",o.id," lock not found: ",e)}),this.execute=function(e){o.ts=m.dts(),o.jsts=(new Date).getTime();var t=v.libSettings().fbo;"function"==typeof t&&(d=t(a)),s="started",b.trigger("auction.before_bids",o),m.log("Auction",o.id,"starting with",c.length,"units:",u,"/ bidders:",d,"/ timeout:",o.max_ms),s="inProgress",h.auctionConfigured(o),b.trigger("auction.start",o);var n=m.wrapAsync(function(){p||(p=!0,b.trigger("auction.bidding_done",o),o.eachUnit(function(e){e.halt()}),s="completed",o.jstsend=(new Date).getTime(),h.auctionCompleted(o),b.trigger("auction.complete",o),e(o))}),r=m.wrapAsync(function(){return l.length?(m.log("Auction ",o.id,"waiting on locks",l),void(f=n)):void n()}),i=0;o.eachUnit(function(e){e.onReady(m.wrapAsync(function(){p||++i>=c.length&&(m.log("Auction ",o.id," received bids for ",i," / ",c.length," units. Duration: ",m.dts()-o.ts,"ms"),r())}))}),m.each(d,function(e){var t=a[e];m.thread(function(){t.execute(o)})()}),setTimeout(function(){p||(m.log("Auction ",o.id," timing out with ",i," / ",c.length," units completed. Duration: ",m.dts()-o.ts,"ms"),r())},o.max_ms)};var t=[],g={};this.getBdrReqId=function(e){return t[e]||(t[e]=m.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var n,t;return g[e]||(a[e],n=[],this.eachBidRequest(e,function(e,t){n.push(t.toPrebid())}),t={referer:m.url().href,stack:[m.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)},g[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:n,gdprConsent:r,uspConsent:(i||{}).uspString,timeout:this.max_ms,refererInfo:t}),g[e]},this.toPrebidBidderReqs=function(){var n=[];return m.each(a,function(e,t){n.push(this.toPrebidBidderReq(t))}.bind(this)),m.log("Prebid bidder reqs built",n),n},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),n=[],r=[],i=[],o=[],a=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit();n.push(t),r.push(t.code);e=e.toPrebidResults();i=i.concat(e.noBids),o=o.concat(e.bidsReceived),a=a.concat(e.winningBids)}.bind(this)),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:s,adUnits:n,adUnitCodes:r,labels:void 0,bidderRequests:e,noBids:i,bidsReceived:o,winningBids:a,timeout:this.max_ms}}}},{"./analytics":10,"./config":12,"./modules":15,"./unit":29,"./utils":30}],12:[function(d,e,t){function c(e,t,n){var r=t.mapping_rules;if(r){var i,o=e.get("gpt_slot"),a=o.getAdUnitPath(),s=e.get("gpt_sizes"),d=e.get("dom_id"),c=e.get("dom_ad_class");for(i in r){if(!r.hasOwnProperty(i))return;var u=r[i],p=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==i&&u<p)return;if("vp.min_width"==i&&p<u)return;if("lib"==i.substr(0,3)){p=n[i.substr(4)];if(("function"==typeof p&&p(o,a,s,d))!=u)return}if("gpt.adunit"==i&&u!=a)return;if("gpt.adunit_regex"==i&&!new RegExp(u,"i").test(a))return;if("gpt.domid"==i&&u!=d)return;if("gpt.domid_regex"==i&&!new RegExp(u,"i").test(d))return;if("gpt.has_size"==i&&!s.match(u))return;if("gpt.no_size"==i&&s.match(u))return;if("adb.ad_class"==i&&u!=c)return;if("adb.ad_class_regex"==i&&!new RegExp(u,"i").test(c))return}return l.log("Unit mapped: ",d,"->",t.alias),1}}function u(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var l=d("./utils"),p=(d("./ajax"),{c:2418030,s:{track_imps:!0,bid_strategy:".05:.1-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50",usp:{image:!0,iframe:!1,delay:3e3},initfn:function(){l.load("https://js-sec.indexww.com/ht/p/180447-192872210293780.js"),l.load("https://js-sec.casalemedia.com/um/googleESP.js"),l.load("https://confiant-integrations.global.ssl.fastly.net/cmoHx-7NMqx3kvsCb7fFcqWf2C8/gpt_and_prebid/config.js")},new_tl_test:function(e){return!l.qs("adb_tl_new_only")&&e},cmp:"iab",cmp_check_interval:100,cmp_check_max:20,pmmutatefn:function(e,t){return l.log("Confiant Safe-frame render",e),t.a=e.config.id,t.b=e.config.bidder_name,t.c=e.cpm,t.w=e.width,t.h=e.height,t.cfd="clarium.global.ssl.fastly.net",t.cfid="cmoHx-7NMqx3kvsCb7fFcqWf2C8",t},pubrenderfn:function(e,t,n,r,i,o){l.log("Confiant friendly-frame render",o);return function(o,a,e,s,d){function c(e){return(r(e)||"")[i]("/","_")[i]("+","-")}var t=a.bidder,n=a.size,u=o.parentWindow||o.defaultView,p=u.JSON,r=u.btoa,l=u.encodeURIComponent;if(!p||!r)return!1;var f="script",g="src",i="replace",m="error",h="stringify",b="write",v="https://"+e+"/?wrapper="+l(s)+"&tpid=",y={k:{hb_bidder:[t],hb_size:[n]}};return function(){var e,t,n=c(s+"/"+y.k.hb_bidder[0]+":"+y.k.hb_size[0]),r={wh:n,wd:p.parse(p[h](y)),wr:0};i=n,e=c(p[h](r)),t=function(){o[b](a.ad)},i=v+l(i)+"&d="+e,e="err__"+ +new Date,u[e]=t,i="<"+f+" on"+m+'="void('+e+'())" '+g+'="'+i+'" type="text/java'+f+'" ></'+f+">",o[b](i);var i={prebid:{adId:a.adId,cpm:a.cpm}},i={d:r,t:a.ad,cb:d,id:i};u[s]={},u[s][n]=i}(),o.close(),!0}(e,{size:o.width+"x"+o.height,bidder:o.config.bidder_name,ad:o.creative||o.creative_url,cpm:o.cpm,adId:o.config.id},"clarium.global.ssl.fastly.net","cmoHx-7NMqx3kvsCb7fFcqWf2C8",function(e,t,n,r,i,o){l.err("Confiant block",e,t,n,r,i,o)})},gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,ajax_ms:1100,before_gpt:function(){l.qs("no_sandbox")||(l.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}));var e="XX";p.s.pub&&p.s.pub.cc&&"AE,AR,AT,AU,BD,BE,BG,CA,CH,CO,CY,CZ,DE,DK,EE,ES,FI,FR,GB,GH,GR,HR,HU,ID,IE,IN,IS,IT,KE,LI,LT,LU,LV,MT,MX,MY,NG,NL,NO,NZ,PH,PK,PL,PT,RO,SA,SE,SG,SI,SK,US,ZA".match(p.s.pub.cc)&&(e=p.s.pub.cc),l.log("Setting KVP hlcc",p.s.pub&&p.s.pub.cc,"=",e),googletag.pubads().setTargeting("hlcc",e)},alter_adb_pixel:function(e){try{p.s.pub&&p.s.pub.cc&&(e+="&hlcc="+p.s.pub.cc)}catch(e){}return e},gpt_refresh_options:function(e){var t=Object.assign({},e||{},{changeCorrelator:!1});return l.log("GPT correlator enforcement",e,t),t},nodbkeys:!0},u:{25:[25,"MNT_Desktop_300x250_1","300x250",["300x600"],.15,1500,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"1135706",{position:"atf"},0],[4,"540601974",0,0],[5,"14538255",0,0],[10,"323129",{size:"300x250"},0],[10,"323129",{size:"300x600"},0],[18,"MedicalNewsToday_Desktop_DMR1_MREC_AB",0,0],[114,"5043325",{size:"300x250"},0],[114,"5043343",{size:"300x600"},0],[115,"mnt_desktop_300x250_hb_1",{pos:"mnt_desktop_300x250_hb_1",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"482160476",0,0],[174,"MedicalNewsToday_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],26:[26,"MNT_Desktop_300x250_2","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"1135708",0,0],[4,"540601975",0,0],[5,"14538341",0,0],[10,"323130",{size:"300x250"},0],[114,"5043328",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_2",{pos:"mnt_desktop_300x250_hb_2",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"265177797",0,0],[174,"MedicalNewsToday_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],27:[27,"MNT_Desktop_300x250_3","300x250",["300x600"],.15,1500,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"1135710",0,0],[4,"540601976",0,0],[5,"14538372",0,0],[10,"323131",{size:"300x250"},0],[10,"323131",{size:"300x600"},0],[114,"5043337",{size:"300x250"},0],[114,"5043344",{size:"300x600"},0],[115,"mnt_desktop_300x250_hb_3",{pos:"mnt_desktop_300x250_hb_3",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"157131625",0,0],[174,"MedicalNewsToday_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],28:[28,"MNT_Desktop_300x250_4","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"1135712",0,0],[4,"540601977",0,0],[5,"14538406",0,0],[10,"323132",{size:"300x250"},0],[114,"5043334",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_4",{pos:"mnt_desktop_300x250_hb_4",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"171862636",0,0],[174,"MedicalNewsToday_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],29:[29,"MNT_Desktop_300x250_5","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"1135714",0,0],[4,"540601978",0,0],[5,"14538439",0,0],[10,"323136",{size:"300x250"},0],[114,"5043338",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_5",{pos:"mnt_desktop_300x250_hb_5",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"662144784",0,0],[174,"MedicalNewsToday_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],30:[30,"MNT_Desktop_300x250_6","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"1135716",0,0],[4,"540601979",0,0],[5,"14538529",0,0],[10,"323138",{size:"300x250"},0],[114,"5043339",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_6",{pos:"mnt_desktop_300x250_hb_6",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"753865295",0,0],[174,"MedicalNewsToday_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],31:[31,"MNT_Desktop_300x250_7","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"1135718",0,0],[4,"540601980",0,0],[5,"14538556",0,0],[10,"323135",{size:"300x250"},0],[114,"5043335",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_7",{pos:"mnt_desktop_300x250_hb_7",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"661335883",0,0],[174,"MedicalNewsToday_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],32:[32,"MNT_Desktop_300x250_8","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"1135720",0,0],[4,"540601981",0,0],[5,"14538725",0,0],[10,"323147",{size:"300x250"},0],[114,"5043336",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_8",{pos:"mnt_desktop_300x250_hb_8",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"537318873",0,0],[174,"MedicalNewsToday_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],33:[33,"MNT_Desktop_300x250_9","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"1135722",0,0],[4,"540601982",0,0],[5,"14538763",0,0],[10,"323150",{size:"300x250"},0],[114,"5043341",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_9",{pos:"mnt_desktop_300x250_hb_9",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"787285489",0,0],[174,"MedicalNewsToday_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],34:[34,"MNT_Desktop_300x250_10","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"1135724",0,0],[4,"540601983",0,0],[5,"14538803",0,0],[10,"323153",{size:"300x250"},0],[114,"5043342",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_10",{pos:"mnt_desktop_300x250_hb_10",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"136586158",0,0],[174,"MedicalNewsToday_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],35:[35,"MNT_Desktop_300x250_11","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR11$"},[[2,"1135726",0,0],[4,"540601984",0,0],[5,"14538836",0,0],[10,"323155",{size:"300x250"},0],[114,"5043330",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_11",{pos:"mnt_desktop_300x250_hb_11",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"168330849",0,0],[174,"MedicalNewsToday_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],36:[36,"MNT_Desktop_300x250_12","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR12$"},[[2,"1135728",0,0],[4,"540601985",0,0],[5,"14538927",0,0],[10,"323158",{size:"300x250"},0],[114,"5043329",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_12",{pos:"mnt_desktop_300x250_hb_12",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"821682258",0,0],[174,"MedicalNewsToday_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],37:[37,"MNT_Desktop_300x250_13","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR13$"},[[2,"1135730",0,0],[4,"540601986",0,0],[5,"14538964",0,0],[10,"323199",{size:"300x250"},0],[114,"5043326",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_13",{pos:"mnt_desktop_300x250_hb_13",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"678963628",0,0],[174,"MedicalNewsToday_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],38:[38,"MNT_Desktop_300x250_14","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR14$"},[[2,"1135732",0,0],[4,"540601987",0,0],[5,"14538996",0,0],[10,"323160",{size:"300x250"},0],[114,"5043340",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb_14",{pos:"mnt_desktop_300x250_hb_14",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"537717616",0,0],[174,"MedicalNewsToday_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],39:[39,"MNT_Desktop_300x250_15","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"DMR15$"},[[2,"1135734",0,0],[4,"540601988",0,0],[5,"14539029",0,0],[10,"323163",{size:"300x250"},0],[114,"5043333",{size:"300x250"},0],[115,"mnt_desktop_300x250_hb",{pos:"mnt_desktop_300x250_hb",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"571841601",0,0],[174,"MedicalNewsToday_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],40:[40,"MNT_Desktop_728x90_1","728x90",["970x90"],.15,1500,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"1135736",{position:"atf"},0],[4,"540601989",0,0],[5,"14537842",0,0],[10,"323178",{size:"728x90"},0],[10,"323178",{size:"970x90"},0],[18,"MedicalNewsToday_Desktop_DLB1_728x90_AB",0,0],[114,"5043323",{size:"970x90"},0],[114,"5043324",{size:"728x90"},0],[115,"mnt_desktop_lb_728x90_hb",{pos:"mnt_desktop_lb_728x90_hb",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"814147833",0,0],[174,"MedicalNewsToday_Desktop_DLB1_728x90",0,function(e,t){return t.new_tl_test(e)}]]],41:[41,"MNT_Desktop_728x90_2","728x90",[],.15,1500,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"1135738",0,0],[4,"540601990",0,0],[5,"14538051",0,0],[10,"323188",{size:"728x90"},0],[18,"MedicalNewsToday_Desktop_DLB2_728x90_AB",0,0],[114,"5043331",{size:"728x90"},0],[115,"mnt_dt_728x90_2",{pos:"mnt_dt_728x90_2",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"275526781",0,0],[174,"MedicalNewsToday_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],42:[42,"MNT_Desktop_728x90_3","728x90",[],.15,1500,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"1135740",0,0],[4,"540601991",0,0],[5,"14538122",0,0],[10,"323195",{size:"728x90"},0],[18,"MedicalNewsToday_Desktop_DLB3_728x90_AB",0,0],[114,"5043327",{size:"728x90"},0],[115,"mnt_dt_728x90",{pos:"mnt_dt_728x90",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"679392274",0,0],[174,"MedicalNewsToday_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],43:[43,"MNT_Desktop_728x90_4","728x90",[],.15,1500,0,0,{"gpt.adunit_regex":"DLB4$"},[[2,"1135742",0,0],[4,"540601992",0,0],[5,"14538176",0,0],[10,"323189",{size:"728x90"},0],[114,"5043332",{size:"728x90"},0],[115,"mnt_dt_728x90",{pos:"mnt_dt_728x90",dcn:"8a96943b0174746d718b6f2be75c0062"},0],[116,"679392274",0,0],[174,"new BRC",0,function(e,t){return t.new_tl_test(e)}]]],44:[44,"MNT_Mobile_320x50","320x50",[],.15,1500,0,0,{"gpt.adunit_regex":"MLB1$"},[[2,"1135744",{position:"atf"},0],[4,"540601993",0,0],[5,"14539128",0,0],[10,"323204",{size:"320x50"},0],[114,"5043347",{size:"320x50"},0],[115,"mnt_mobile_banner_320x50_hb",{pos:"mnt_mobile_banner_320x50_hb",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"917839699",0,0],[174,"MedicalNewsToday_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],45:[45,"MNT_Mobile_300x250_1","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"1135746",{position:"atf"},0],[4,"540601994",0,0],[5,"14539184",0,0],[10,"323205",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR1_300x250_AB",0,0],[114,"5043349",{size:"300x250"},0],[115,"mnt_mobile_med_rec_300x250_hb",{pos:"mnt_mobile_med_rec_300x250_hb",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"339384118",0,0],[174,"MedicalNewsToday_Mobile_MMR1 _300x250",0,function(e,t){return t.new_tl_test(e)}]]],46:[46,"MNT_Mobile_300x250_2","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"1135748",0,0],[4,"540601995",0,0],[5,"14539202",0,0],[10,"323206",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR2_300x250_AB",0,0],[114,"5043348",{size:"300x250"},0],[115,"mnt_mobile_med_rec_300x250_hb_1",{pos:"mnt_mobile_med_rec_300x250_hb_1",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"189578804",0,0],[174,"MedicalNewsToday_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],47:[47,"MNT_Mobile_300x250_3","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"1135750",0,0],[4,"540601996",0,0],[5,"14539248",0,0],[10,"323207",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR3_300x250_AB",0,0],[114,"5043345",{size:"300x250"},0],[115,"mnt_mobile_med_rec_300x250_hb_2",{pos:"mnt_mobile_med_rec_300x250_hb_2",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"416732783",0,0],[174,"MedicalNewsToday_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],48:[48,"MNT_Mobile_300x250_4","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"1135752",0,0],[4,"540601997",0,0],[5,"14539270",0,0],[10,"323208",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR4_300x250_AB",0,0],[114,"5043346",{size:"300x250"},0],[115,"mnt_mobile_med_rec_300x250_hb_3",{pos:"mnt_mobile_med_rec_300x250_hb_3",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"579762571",0,0],[174,"MedicalNewsToday_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],49:[49,"MNT_Mobile_300x250_5","300x250",[],.15,1500,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"1135754",0,0],[4,"540601998",0,0],[5,"14539307",0,0],[10,"323209",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR5_300x250_AB",0,0],[114,"5043350",{size:"300x250"},0],[115,"mnt_mobile_med_rec_300x250_hb_4",{pos:"mnt_mobile_med_rec_300x250_hb_4",dcn:"8a96943b0174746d718b6f2be9160064"},0],[116,"823314966",0,0],[174,"MedicalNewsToday_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}}),f={},g={},n={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return l.logl("g","Global read: ",e,n[e]),n[e];n[e]=t,l.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"v4.18.0-pre"},p.s.preconfigure_init&&l.wrapAsync(p.s.preconfigure_init)(p.s),t.getId=function(){return p.c},t.libSettings=function(t){if(t){var e,n;try{n="function"==typeof p.s[t]?(e=Array.prototype.slice.apply(arguments,[1]),p.s[t].apply(null,e)):p.s[t]}catch(e){l.err("ConfigKeyFail",t,e)}return n}return p.s},t.kvp=function(e){var t=p.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},t.proc=function(e){p.s.pub=p.s.pub||{},l.each(e,function(e,t){p.s.pub[t]=e}),l.log("Publisher config update: ",JSON.stringify(p.s.pub)),d("./modules.js").trigger("pub.config",p.s.pub)},t.deca=function(e){if(p.s.alter_adb_pixel)try{e=p.s.alter_adb_pixel(e)}catch(e){l.err("Alter adb fail",e)}return e};t.configureUnit=function(e,t){var n,r=!1,i=[];for(n in p.u)if(p.u.hasOwnProperty(n)){var o=u(0,p.u[n]);if(d("./modules.js").trigger("unit.dynamic",o,p.s,e),p.s.dynamic_configuration)try{var a=p.s.dynamic_configuration(o,p.s,e);if("object"!=typeof a&&!1!==a||(o=a),!o)continue}catch(e){l.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;r=o;break}if(o.rule_order)i[o.rule_order]=o;else if(c(e,o,p.s)){r=o;break}}if(!r&&i.length)for(var s=0;s<i.length;++s)if(i[s]&&c(e,i[s],p.s)){r=i[s];break}r&&(e.configure(r),function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var n=0;n<t.bid_req_confs.length;++n){var r=t.bid_req_confs[n],r={bidder_id:(i=r)[0],bidder_unit_id:i[1],settings:i[2]||{},mutate:i[3]||!1};0;var i=g[String(r.bidder_id)];l.qsab(i,r.bidder_id)&&(e.addBidder(i,f[i]),e.addBidReqConf(i,r,p.s))}}(e,r))},t.units=function(n){l.each(p.u,function(e,t){n(u(0,e))})};var r=p.s.usp;"function"==typeof r&&(r=r()),r&&l.cfusp(r.image,r.iframe,r.delay),t.afterConsent=d("./consent.js")(p);function i(n,r,i){t.afterConsent(function(e){return e&&e.gdprApplies&&!e.consentString?l.log("GDPR skip register",n,e):void(f[n]?l.err("Duplicate bidder alias "+n):(t={bidder_id:(t=i)[0],settings:t[1]||{},mutate:t[2]||!1},f[n]=new r(n,t.bidder_id,t.settings,e,o),f[n].alias=n,f[n].id=t.bidder_id,f[n].settings=t.settings,f[n].mutate=t.mutate||!1,g[String(t.bidder_id)]=n));var t})}var o=d("./modules.js");o.setup(t);var a=d("./adapters/triplelift_direct.js"),s=d("./adapters/medianet.js"),m=d("./adapters/aol.js"),h=d("./adapters/triplelift.js"),b=d("./adapters/index.js"),v=d("./adapters/appnexusast.js"),r=d("./adapters/openx.js");i("rubicon",d("./adapters/rubicon.js"),[2,{accountId:11314,siteId:229330},function(e,t){try{e.params=e.params||{},e.params.inventory={k1:(t.pub&&t.pub.k1||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k1||"").replace(/'/g,""),k2:(t.pub&&t.pub.k2||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k2||"").replace(/'/g,"")},l.log("Rubicon KVP",e.params.inventory)}catch(e){l.err("MNT Rubicon K1 fail",e)}return e}]),i("openx",r,[4,{delDomain:"healthline-d.openx.net"},0]),i("appnexus",v,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},e}]),i("ix",b,[10,0,0]),i("triplelift",h,[18,0,0]),i("onedisplay",m,[114,{test:!0},function(e,t){return-1<["US","CA","AU"].indexOf(t.pub.cc.toUpperCase())&&e}]),i("onemobile",m,[115,0,function(e,t){return-1<["US","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),i("medianet",s,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),i("tpl_direct",a,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/index.js":3,"./adapters/medianet.js":4,"./adapters/openx.js":5,"./adapters/rubicon.js":6,"./adapters/triplelift.js":7,"./adapters/triplelift_direct.js":8,"./ajax":9,"./consent.js":13,"./modules.js":15,"./utils":30}],13:[function(r,e,t){var i,o=r("./utils.js");e.exports=o.wrapAsync(function(e){return i=e,function(e){S(e)}});function a(e,t){d+=e,t&&(d+=t)}var n,s,d="",c={iab:"A",conversant:"B"},u={geoblock:"C",geoblockbids:"D",geocmp:"E"},p="AT,BE,BG,CR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,SP,SE,GB,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,",l=!1,f=!1,g=!1,m=[];o.qs("adb_skip_consent")&&(o.log("Consent: skipped by qs"),f=l=!0);function h(){if(l&&f)for(;m.length;){var e=m.shift();A(e)}}function b(){k||(k=!0,o.log("Consent: removing action configurations."),i.u=[],a("N"))}function v(){googletag&&googletag.cmd&&!z&&(z=!0,o.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),a("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function y(){googletag&&googletag.cmd&&!C&&(C=!0,o.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),a("M"),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var _,x,w,S=o.wrapAsync(function(e){"function"==typeof e?(e=o.wrapAsync(e),l&&f?A(e):(m.push(e),g||(g=!0,T(),O()))):o.err("Consent: invalid cb",e)}),A=function(e){e(n,s,d)},I=o.wrapAsync(function(e){o.log("Consent: done gathering GDPR consent",e),n=e,l=!0,a("u"),h()}),j=o.wrapAsync(function(e){o.log("Consent: done gathering USP consent",e),s=e,f=!0,a("h"),h()}),k=!1,z=!1,C=!1,T=function(){var e=i.s.cmp;"function"==typeof e?(a("t"),e(i.s,o.wrapAsync(function(e){R(e)}))):R(e)},R=o.wrapAsync(function(n){return n?"pubblock"===n?(o.log("Consent: gdpr: pubblock"),a("F"),b(),v(),void I({gdprApplies:!0,consentString:""})):"iab"===n||"conversant"===n?(a(c[n]),void B(n)):"geoblock"===n||"geoblockbids"===n||"geocmp"===n?(a(u[n]),void U(function(e){if(-1===p.indexOf(e.slice(0,2)))return o.log("Consent: gdpr: not in EU:",e),a("y"),void I({gdprApplies:!1,consentString:""});if("geocmp"===n){var t=i.s.cmp_for_geo;return o.log("Consent: gdpr: in EU, checking cmp:",t),a("x"),void setTimeout(function(){R(t)},0)}if("geoblock"===n)return a("v"),o.rec("GDPRBlockAll"),void o.log("Consent: gdpr: in EU, disabling ads");a("w"),o.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),b(),v(),I({gdprApplies:!0,consentString:""})})):(a("z"),o.err("Consent: unrecognized cmp value",n),void I()):(a("G"),void I())}),E=0,B=o.wrapAsync(function(){if("function"!=typeof window.__cmp&&"function"!=typeof window.__tcfapi){var e=i.s.cmp_check_interval,t=i.s.cmp_check_max;if(e&&E<t)return 0===E&&(a("p"),o.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),E+=1,void setTimeout(B,e);var n=i.s.cmp_fallback;return n?(o.log("Consent: gdpr: fallback to",n),a("o"),void setTimeout(function(){R(n)},0)):(a("n"),void o.log("Consent: gdpr: CMP object not found, preventing further execution."))}if(window.__tcfapi)return o.log("Consent: gdpr: calling TCFv2"),a("U"),void window.__tcfapi("getTCData",2,o.wrapAsync(function(e,t){var n,r,i;e?(a("s"),n=e.tcString,i=e.gdprApplies,r=e):a("r"),I({consentString:n,vendorData:r,gdprApplies:i})}));o.log("Consent: gdpr: calling CMP"),a("q"),window.__cmp("getVendorConsents",null,o.wrapAsync(function(e){var t,n,r;o.log("Consent: gdpr: CMP result",e),e?(t=e.metadata||e.consentData,n=e.vendorConsents,r=e.gdprApplies,a("s")):a("r"),I({consentString:t,vendorData:n,gdprApplies:r})}))}),O=function(){var e=i.s.ccpa;if("optout"===e)return o.log("Consent: ccpa: opting out all users, restricting gpt processing"),a("l"),y(),void j({version:1,uspString:D()});if(0!==(e||"").indexOf("geoblock,"))return!e&&window.__uspapi&&(e="iab",a("k")),e?"iab"===e?(a("j"),void P()):(o.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),a("i"),void j()):(o.log("Consent: ccpa: no strategy defined, continuing as normal"),a("m"),void j());var t=e.split(",").slice(1);U(function(e){-1!==t.indexOf(e)?(o.log("Consent: ccpa: opting out ",t," users, restricting gpt processing"),a("O"),y(),j({version:1,uspString:D()})):(o.log("Consent: ccpa: region OK",e),a("T"),j({version:1,uspString:"1---"}))})},D=function(){var e=i.s.ccpa_signatory||"N";return"1"+(i.s.ccpa_button||"N")+"Y"+e},M=0,P=o.wrapAsync(function(){var n=i.s.usp_check_interval||500,r=i.s.usp_check_max||30;if(!window.__uspapi)return n&&M<r?(0===M&&(o.log("Consent: usp: __uspapi not found yet - checking every ",n,"ms; max ",r,"intervals"),a("b")),M+=1,void setTimeout(P,n)):(o.log("Consent: usp: __uspapi not found, preventing further execution."),void a("a"));0===M&&a("c"),window.__uspapi("getUSPData",1,o.wrapAsync(function(e,t){return o.log("Consent: usp: result",e,t),t||e&&e.uspString?(e&&e.uspString?(a("g"),"Y"===e.uspString.substr(2,1)&&y()):a("d"),void j(e)):n&&M<r?(0===M&&(o.log("Consent: usp: result empty, re-checking in ",n,"ms"),a("e")),M+=1,void setTimeout(P,n)):(o.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),a("f"),y(),void j({version:1,uspString:D()}))}))}),U=(w=[],function(e){var t,n;"function"==typeof e?(e=o.wrapAsync(e),_||(t=o.cr("adbrgn"))&&(o.log("Consent: region cookie found",t),a("S"),_=t),_?e(_):(w.push(e),x||(o.log("Consent: geo region requested"),n=function(){for(;w.length;)w.shift()(_)},x=!0,r("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},o.wrapAsync(function(e,t){return e?(o.err("geo/region",e),i.s.cmp_allow_geofail?(_="????",o.log("Consent: error getting region, continuing"),a("P"),void n()):(o.log("Consent: region check failed; preventing further action"),void a("Q"))):(_=t,o.log("Consent: region check result",_),o.cw("adbrgn",_),o.log("Consent: cached region",_),a("R"),void n())}))))):o.err("Consent: bad region cb",e)})},{"./ajax.js":9,"./utils.js":30}],14:[function(e,t,n){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var a,s,m=e("../utils.js"),p=e("../unit.js"),c=e("../auction.js"),g=e("../config.js"),h=e("../analytics.js"),b=e("../modules.js");if(!m.qs("adb_off")){if(H=m.vp(),/headless/i.test(navigator.userAgent)||0===H.w||0===H.h)return m.log("headless browser detected; shutting down"),void m.rec("headless");s={enableSingleRequest:ue,disableInitialLoad:ue,addEventListener:(a={add:function(e,t){a[e]=(a[e]||[]).concat(t)},remove:function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(a[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:a.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){s.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){s.targeting[e]=t},refresh:function(e){e.forEach(function(e){var n=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),r=!s.safeFrameConfig||e.getTargeting("unsafe")[0];n.height=e.sizes[0][1],n.width=e.sizes[0][0],n.border="0px",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no";var i={slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(n.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0},o=e.getTargeting(g.kvp("adb_adid"))[0];r?n.src="about:blank":(s.safeFrameConfig&&s.safeFrameConfig.sandbox&&(n.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(n),o?(n.contentDocument.open(),n.contentDocument.write(r?'<script>try { top.AdBridg.render(document, "'+o+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+o+'");<\/script></head><body></body></html>'),a.trigger("slotRenderEnded",i)):"function"==typeof(o=g.libSettings().getHouseAd)?o(e,function(e,t){n.contentDocument.open(),n.contentDocument.write(e),i.isEmpty=!1,a.trigger("slotRenderEnded",m.assign(i,t))}):(m.log(e.getAdUnitPath(),"nothing to render"),i.isEmpty=!0,a.trigger("slotRenderEnded",i))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return s},defineSlot:function(e,t,n){var r={sizes:t,targeting:{},addService:ue,getSlotElementId:function(){return n},getAdUnitPath:function(){return e},setTargeting:function(e,t){r.targeting[e]=t},getTargeting:function(e){return[].concat(r.targeting[e],s.targeting[e]).filter(Boolean)},getTargetingMap:ue};return r},enableServices:ue,display:ue},("function"==typeof g.libSettings().nogpt&&g.libSettings().nogpt()||m.qs("adb_nogpt"))&&(m.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);var i=!1,o=[],d=!1,u=[],r=!1,v=[],l=[],y={},_={},x={},f={},w=!1,S=[],A=[],I={},j=[],k="Workflow |",z=!0,e=g.libSettings().sra_if;(e&&!e()||g.libSettings().no_sra)&&(z=!1);function C(e){var t,n,r=g.libSettings().gpt_clear_kvps,i=[],o=e.getTargetingMap(),a=!1;for(n in o)o.hasOwnProperty(n)&&("adb_"===n.substr(0,4)||r&&0<=r.indexOf(n)?a=!0:i.push([n,o[n]]));if(a)for(e.clearTargeting(),t=0;t<i.length;++t)e.setTargeting(i[t][0],i[t][1]);D(e)}function T(e,t){var n=g.libSettings().gpt_exclusions;if(n){var r,i=[];for(r in n){var o=n[r];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(r),i.push(r))}i.length&&m.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",i)}}function R(n,o,a){return m.wrapAsync(function(i){oe("ra",function(){var r=[];i.eachUnit(function(t){if(i===d){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=g.libSettings().post_auc_ufilter;if(e){e=e(t,a);if(e)return void m.log("Ignoring",t.alias,t.get("dom_id"),e)}}catch(e){m.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return m.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void m.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var n=t.getWinner();n&&n.config.unit.setImpData("adb_mtype",n.extras.mediaType),function(e){var t=g.libSettings().bid_strategy,n=e.getWinner(),r=e.get("gpt_slot");C(r),b.trigger("gpt.set_targeting",e,r);var i,o=e.get("adb_imp_data");if(o&&(i=r.getTargeting("adb_imp")||[],m.isarr(i)||(i=[i]),m.each(o,function(e){e&&-1===i.indexOf(e)&&i.push(e)}),i.length&&r.setTargeting(g.kvp("adb_imp"),i)),g.libSettings().track_alias&&r.setTargeting(g.kvp("adb_cfg"),e.alias),!n)return r.setTargeting(g.kvp("adb_bdr"),["none"]),T(r,-1),b.trigger("gpt.no_hbc",e,r,function(e){return m.toRange(e,t)},function(e,t){D(e),T(e,t)});AdBridg.gpt!==window.googletag&&(r.setTargeting("unit",e),(g.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===n.config.bidder_name}).length&&r.setTargeting("unsafe",!0));var a=(I[n.id]=n).config.dfp_bidder_name||n.config.bidder_name,s=n.cpm;(o=g.libSettings().cur)&&(o.exclude&&-1<o.exclude.indexOf(n.config.bidder_id)?m.log("Currency conversion skipped: ",n.config.bidder_name):(m.log("Currency conversion: USD = ",s,"; Rate = ",o.rate,"; DFP = ",o.rate*s),s*=o.rate));var d=m.toRange(s,t),c=d.kv;b.trigger("gpt.modify_hbc",e,r,{bid:n,range:d,mod:function(e){return s=e,d=m.toRange(s,t),c=d.kv,d}}),m.qs("adb_force_bidder")?(a="force",c=""):m.qs("adb_force_sf_bidder")&&(a="forcesf",c="");var u=g.libSettings().vs_threshold;if("function"==typeof u)try{var p=u(s);p&&r.setTargeting(g.kvp("adb_vs"),p)}catch(e){m.err("HVfail",e)}r.setTargeting(g.kvp("adb_bdr"),[a]),r.setTargeting(g.kvp("adb_hbc"),[c]),r.setTargeting(g.kvp("adb_adid"),[n.id]),g.libSettings().track_mtype&&n.extras&&n.extras.mediaType&&r.setTargeting(g.kvp("adb_mtype"),[n.extras.mediaType]),m.log("Set GPT targeting for ",r.getAdUnitPath()," / ",r.getSlotElementId(),": ",a,c),T(r,s)}(t),r.push(t.get("gpt_slot"))}catch(e){m.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e,t=A.concat(r);if(A=[],U(t),"function"==typeof n&&n(i),z&&!(t=q("AC",t)).length)return m.err("All units cancelled",i.id);(z||a)&&($(),m.log(k,"GPT Batch: ",t.length),(e=g.libSettings("gpt_refresh_options",o))&&(o=e),AdBridg.gpt.pubads().refresh(t,o),b.trigger("gpt.request_adbridg",i,a))})})}function E(){var e,t;w&&(e=S.length,(S=q("PT",S)).length?(m.isdebug()&&(t=[],m.each(S,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),m.log("Non-bid request with",S.length," units: ",t)),oe("rp",function(){var e,t=S;S=[],t.length&&($(),U(t),m.log(k,"GPT PT Batch: ",t.length),e=g.libSettings("gpt_refresh_options")||{},AdBridg.gpt.pubads().refresh(t,e),b.trigger("gpt.request_passthrough",t))})):e&&m.err("PT units cancelled"))}function B(e){m.log("Locked slot: ",e.getSlotElementId()),N[e.getSlotElementId()]=!0}function O(e,r,i){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(m.each(o,function(e,t){if("string"==typeof e[t]){var n=e[t].split("x");return 0!==n[0]&&0!==n[1]||m.err("0 size in",r,i,e[t]),void(e[t].match(/^\d+x\d+$/)||a.push(t))}0!==e[0]&&0!==e[1]||m.err("0 size in",r,i,e.join("x")),o[t]=e.join("x")}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}var D=function(e){var t=g.libSettings().gpt_exclusions;if(t){for(var n=!1,r=e.getCategoryExclusions(),i=r.length-1;0<=i;--i){var o=r[i];t.hasOwnProperty(o)&&(r.splice(i,1),n=!0)}if(n)for(e.clearCategoryExclusions(),i=0;i<r.length;++i)e.setCategoryExclusion(r[i])}},M={},P={},U=function(e){m.each(e,function(e){var t=e.getSlotElementId(),n=(P[t]||0)+1;P[t]=n;var r=g.libSettings().track_imps;if(r)try{"string"!=typeof r&&(r="1:1-11");for(var i=Math.floor(m.toRange(n,r).kv.split("-")[0]),o=e.getTargeting("adb_imp"),a=o.length-1;0<=a;--a)String(o[a]).match(/^\d+$/)&&o.splice(a,1);o.push(i),e.setTargeting(g.kvp("adb_imp"),o)}catch(e){m.err("Counter failed: ",e)}})},N={},q=m.wrapAsync(function(i,e,o){var a=g.libSettings().max_imp_ctr;"function"==typeof a&&(a=a());var s=[];return m.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!x[n]){if(L("F"+i,n))return m.log("Slot excluded; element hidden",n);if(o){if(N[t.getSlotElementId()])return m.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(a){var r=P[n]||0;if(a<=r)return M[n]?m.log("Slot excluded; too many imps: ",t,r+" > "+a):m.err("Slot imp max: ",t.getAdUnitPath(),n,a)}}n=[];if(b.trigger("gpt.filter_slot",i,t,o,n),n.length)return m.log("Module blocking",i,t,n);s.push(e)}}}),s}),L=function(e,t,n){var r=m.dom_invisible(t);if(r){n=n||0;var i=g.libSettings().block_invisible;if("function"==typeof i&&(i=i(e,t,r)),i)return m.err("DEI.R",e,t,r,n),r;m.err("DEI.A",e,t,r,n)}return!1};window.AdBridg.defineSlot=m.wrapAsync(function(e,t,n){var r=L("DS",n);if(r)return m.log("Slot definition blocked: ",n,r),!1;var i=g.libSettings().block_slot;if("function"==typeof i)try{if(i(e,n))return void m.err("Blocking slot:  ",e," with dom_id: ",n)}catch(e){m.err("DefineOverride",e)}var o=g.libSettings().override_define;if("function"==typeof o)try{var a=o(e,t,n);if(!1===a)return m.log("Param override prevented defineSlot",e," dom_id=",n),!1;"object"==typeof a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(n=a.dom_id))}catch(e){m.err("DefineOverride",e)}t&&(!m.isarr(t)||t.length)||(h.ctr("dsea"),t=[1,1]);var s=AdBridg.gpt.defineSlot(e,t,n);if(!s)return s;s.addService(AdBridg.gpt.pubads()),B(s);var d=O(t,e,n),c=d.join(","),u=new p({dom_id:n,gpt_slot:s,gpt_sizes:c,imp_ctr:(P[n]||0)+1});u.restrictSizesTo(d),y[n]=c;r=400,d=g.libSettings().lazy;return"function"==typeof d&&"number"==typeof(d=d(u,s,n,g.libSettings()))&&(r=d),d&&(m.log("Requiring lazy: ",n,"distance=",r),u.set("lock.lazy",1),d=g.libSettings().lazy_measurement_filter,m.dom(n,r,0,function(){m.logl("wf",k,"unit triggered lazy load",u.alias,u.get("dom_id")),u.set("lock.lazy",!1),z?AdBridg.serve():AdBridg.display(n)},d,g.libSettings().lazy_compatible_collapse)),v.push(u),m.log(k,"Defined slot: ",e,n,c),b.trigger("gpt.define",u,s,e,t,n),g.libSettings().allow_serve_from_display&&f[n]&&(m.logl("wf",k,"triggering serve from define after display",n),AdBridg.serve()),z||("function"==typeof(c=g.libSettings().nonsra_poll)&&(c=c()),c&&(m.log("Nonsra poll for DOM ids"),V(n))),s}),window.AdBridg.defineOutOfPageSlot=m.wrapAsync(function(e,t){var n=AdBridg.gpt.defineOutOfPageSlot(e,t);if(!n)return n;n.addService(AdBridg.gpt.pubads()),B(n);var r=new p({dom_id:t,gpt_slot:n,gpt_sizes:""});return v.push(r),m.log(k,"Defined OOP slot: ",e,t),b.trigger("gpt.define",r,n,e,!1,t),g.libSettings().allow_serve_from_display&&f[t]&&(m.logl("wf",k,"triggering serve from defineOOP after display",t),AdBridg.serve()),n});var F={},V=function(t){F[t]=F[t]||{ct:0,tx:-1};var n=F[t];clearTimeout(n.tx),10!==n.ct?(n.ct+=1,n.tx=setTimeout(m.wrapAsync(function(){if(!f[t]){var e=!!document.getElementById(t);if(m.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!f[t],"; dom exists =",e),e)return m.log("Nonsra issuing display from poll",t),void AdBridg.display(t);V(t)}}),1e3)):m.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=m.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,f[n]=!0,m.logl("wf",k,"display received",n),g.libSettings().allow_serve_from_display&&v.length&&(m.logl("wf",k,"triggering serve from display",n),AdBridg.serve()),w=!0,!z){v.length&&(l=l.concat(v),v=[]);for(var r=l.length-1;0<=r;--r){var i,o=l[r].get("dom_id");f[o]&&((i=l.splice(r,1)[0]).get("gpt_sizes")?v.push(i):m.logl("Ignoring display for unit with no sizes",o))}return v.length?(m.logl("wf",k,"nonsra issuing serve",v.length),void X(function(r,i){oe("dn",function(){r?r.eachUnit(function(e){m.logl("wf",k,"display resolved",e.get("dom_id"),"auction=",r),AdBridg.gpt.display(e.get("dom_id")),b.trigger("gpt.request_nosra",e.get("dom_id"))}):(m.logl("wf",k,"display resolved",i," as passthrough"),AdBridg.gpt.display(i),b.trigger("gpt.request_nosra",i));var e=l.length;if(e){m.logl("wf",k,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=l[t].get("dom_id");if(f[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void m.logl("wf",k,"nonsra display waiting on definition/serve")}oe("ds",function(){$(),m.logl("wf",k,"display resolved",n),AdBridg.gpt.display(n)}),E()}),window.AdBridg.refresh=m.wrapAsync(function(e,t){if(e=e||AdBridg.gpt.pubads().getSlots(),g.libSettings().allow_serve_from_refresh&&v.length){for(var n=e.length-1;0<=n;n--)for(var r=v.length-1;0<=r;r--)e[n]===v[r].get("gpt_slot")&&e.splice(n,1);if(AdBridg.serve(),!e.length)return}var o,a,s,d,i=e.length;e=q("RF",e,!0),m.logl("wf",k,"refresh: ",i,"slots requested; ",i-e.length,"filtered out;",e.length,"remaining."),e.length?(o=new c,a="no_auction"!==g.libSettings().refresh,s=[],d=[],m.each(e,function(e){try{C(e)}catch(e){return m.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();B(e);var n,r,i=y[t]||"";_[t]&&(r=(n=_[t].adb||_[t].gpt)&&"0x0"!==n&&n.match(/^\d{2,}x\d{2,}\d/),m.logl("sz","Refresh size restriction for",t,"=",n,"; is_valid=",r),r&&(i=n));t=new p({dom_id:t,gpt_slot:e,gpt_sizes:i,is_refresh:!0,imp_ctr:(P[t]||0)+1});a&&(g.configureUnit(t),m.logl("sz","Refresh restricting sizes to ",i),t.restrictSizesTo(i.split(","))),t.hasBidReqConf()?o.addUnit(t):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(m.log("Refreshing",s.length,"non-bid units: ",d),oe("rn",function(){$(),U(s),m.log(k,"GPT RF Batch: ",s.length);var e=g.libSettings("gpt_refresh_options",t);e&&(t=e),AdBridg.gpt.pubads().refresh(s,t),b.trigger("gpt.request_passthrough",s,!0)})),o.hasUnit()&&(j.push(o),o.execute(R(null,t,!0)))):i&&m.err("RF units cancelled")});var G={},H=m.wrapAsync(function(e){var t=String(e.message||e.data),n=t.substr(0,9),t=t.substr(10);return"adbsrverr"===n?m.err("Safeframe error: ",t):"adbsrvlog"===n?m.log("Safeframe: ",t):"adbvidend"===n?b.trigger("bid.outstream_end",t):"adbsrvreq"===n?G.hasOwnProperty(t)?m.err("SafeframeDupe:",t):void AdBridg.render({safeframe:!0,source:e.source},t):void 0});window.addEventListener?window.addEventListener("message",H,!1):document.attachEvent&&window.attachEvent("onmessage",H),window.AdBridg.render=m.wrapAsync(function(t,e){var n,r=!("object"!=typeof e);if(r)n=e,m.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," [override] creative from ",n.config.bidder_name," BR ",n.config.id);else{if(!I[e])return void m.err("Render failed for ID ",e);var i=(n=I[e])._origin?"(pooled bid from "+n._origin.config.unit.unique_id+")":"";m.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," creative from ",n.config.bidder_name,i," BR ",n.config.id),h.bidRendered(n)}e=n.config.unit.get("dom_id"),i=m.dom_invisible(e);L("AR",e,n.config.bidder_id),i&&m.log("AdBridg render detected invisible container at time of render:",e,i);i={config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras,dom_id:e};r&&(i.override=1);var o=JSON.stringify(i);if(n.adbridg_rendered=!0,b.trigger("bid.render",n,i),t.safeframe&&t.source&&t.source.postMessage){var a=g.libSettings().pmmutatefn;if(!n.creative)return m.err("Safeframe render fail: no creative");var s={ad:"\x3c!-- AdBridg Delivery (SF): "+o+" --\x3e"+n.creative};"function"==typeof a&&(s=a(n,s)),t.source.postMessage("adbsrvad:"+JSON.stringify(s),"*")}else if(n.creative){a=g.libSettings().pubrenderfn,s=!1;"function"==typeof a&&(t.write("\x3c!-- AdBridg Delivery (ER): "+o+" --\x3e"),a(t,n.creative,n.config.bidder_name,n.width,n.height,n)?(s=!0,m.log("Creative rendered externally")):m.log("External render skipped")),s||(t.write("\x3c!-- AdBridg Delivery: "+o+" --\x3e"),t.write(n.creative),t.close())}else if(n.creative_url)try{var d=m.iiframe();d.width=n.width,d.height=n.height,d.style.display="inline",d.style.overflow="hidden",d.src=n.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+o)),t.body.appendChild(d)}catch(e){m.err("Delivery failure from ",n.config.bidder_name," / ",n.config.bidder_unit_id,e)}else{if("function"!=typeof n.render)return m.err("No creative from ",n.config.bidder_name," / ",n.config.bidder_unit_id);n.rawbid.adUnitCode=document.getElementById(e).children[0].id,document.getElementById(n.rawbid.adUnitCode).innerHTML="",n.render(),m.rec("winner.render:"+n.id)}var c,u,p=n.resize_pad_top||!1,l=document.getElementById(e);if(l.style.textAlign="center",(u=(c=l).getElementsByClassName("adbridg-dyn-pad")).length&&m.each(u,function(e){e.parent.removeChild(e)}),p&&((u=m.prepend(c,"span")).className="adbridg-dyn-pad",u.innerHTML="&nbsp;",u.style="display:block;width:1px;height:"+p+"px;overflow:hidden;",(u=document.createElement("span")).className="adbridg-dyn-pad",u.innerHTML="&nbsp;",u.style="display:block;width:1px;height:"+p+"px;overflow:hidden;",c.appendChild(u)),t.safeframe)try{var f=l.getElementsByTagName("iframe");m.each(f,function(e){e.contentWindow===t.source&&(m.logl("RS","RS SF element: ",e.id,n.width,n.height),m.resize_element(e,n.width,n.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(m.logl("RS","RS SF parent: ",e.parentNode.id,n.width,n.height),m.resize_element(e.parentNode,n.width,n.height)))})}catch(e){m.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=n.width,t.defaultView.frameElement.height=n.height),m.logl("RS","RS iframe: ",n.width,n.height),m.resize_iframe(window,t,n.width,n.height);g.libSettings().refresh_keep_size&&(_[e]||(_[e]={gpt:"",adb:""}),_[e].adb=i.size,m.log("SIZE REFRESH KEEPING ADB: ",e,_[e]));e=g.libSettings().post_render;"function"==typeof e&&e(n)});var W=[];window.AdBridg.sizeMapping=m.wrapAsync(function(){var e,n=[],r=AdBridg.gpt.sizeMapping(),i={addSize:m.wrapAsync(function(e,t){return r.addSize(e,t),n.push([e,t]),i}),build:m.wrapAsync(function(){return e=r.build(),W.push({gpt_map:e,sizes:n}),e})};return i}),window.AdBridg.useSizeMapping=m.wrapAsync(function(e,t,n){var r=!1,i=e.getSlotElementId(),o=e.getAdUnitPath();for(e.defineSizeMapping(t),p=W.length-1;0<=p;--p)if(W[p].gpt_map===t){r=W[p].sizes;break}if(r){for(var a=m.vp(),s=a.w,d=a.h,c=!1,u=[],p=r.length-1;0<=p;--p){var l=r[p][0];if(s>=l[0]&&d>=l[1]){if(c){if(c[0]>l[0])continue;if(c[0]===l[0]&&c[1]>l[1])continue}c=l,u=r[p][1]}}var f=O(u,o,i),a=f.join(",");y[i]=a;var g=n||!1;if(!g)for(p=v.length-1;0<=p;--p)if(v[p].get("gpt_slot")===e){g=v[p];break}if(!g)return m.err("No unit for size map: ",o,i);g.set("gpt_sizes",a),g.restrictSizesTo(f),y[i]?m.log("Applied size mapping to ",i," / ",o,": ",a):(x[i]=1,m.log("Excluding unit ",i," / ",o," because it has no valid sizes"))}else m.err("Size mapping not found: ",o,i)}),window.AdBridg.resetInternals=function(){};var J=!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var n=[];return m.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete P[t],delete y[t],delete _[t],delete x[t],delete N[t],delete f[t],m.undom(t),b.trigger("gpt.destroy",e,t),n.push(t))}),m.log("Destroyed slots: ",n),AdBridg.gpt.destroySlots(e)}),$=function(){var e;J||(J=!0,"function"==typeof(e=g.libSettings().before_gpt)&&m.wrapAsync(e)(),b.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),b.trigger("gpt.after_enable_services"))},K=!1,X=m.wrapAsync(function(e){m.logl("wf",k,"serve called with",v.length,"pending units");var t=!1;$();for(var n=!1,r=0;v.length>r;){var i=v.shift();if(i.get("lock.lazy"))m.logl("wf",k,"serve skipped lazy",i.alias,i.get("dom_id")),r+=1,v.push(i);else{var o=i.get("dom_id");if(x[o]||!L("AS",o))if(g.configureUnit(i),i.hasBidReqConf()){if(d){var a=u.indexOf(i.id);if(0<=a){var s=!1;if(d.eachUnit(function(e){var t,n,r;e.id===i.id&&(s=!0,u.splice(a,1),m.log("Proxy into preload ",i.alias),t=i.get("gpt_slot"),n=i.get("dom_id"),r=y[n]||i.get("gpt_sizes")||"",e.set({dom_id:n,gpt_slot:t,gpt_sizes:r}),e.restrictSizesTo(r.split(",")),b.trigger("unit.pre_attach",e))}),s){n=!0;continue}}}(t=t||new c).addUnit(i)}else z?S.push(i.get("gpt_slot")):(U([i.get("gpt_slot")]),m.thread(e)(!1,i.get("dom_id")));else m.err("Slot rejected before auction, element hidden:",o)}}(t||d)&&g.libSettings().gpt_keep_oop&&S.length&&(m.log("Batching passthrough units with auction units"),A=A.concat(S),S=[]),t&&(j.push(t),t.execute(R(e)),t=!1),n&&!K&&(K=!0,ce(R())),E()}),Q=!1;window.AdBridg.serve=function(e){if(clearTimeout(Q),z){m.logl("wf",k,"queuing serve");var t=g.libSettings().batch_delay;if("function"==typeof t&&(t=t(v)),0===t)return m.log("Starting auctions ASAP."),X(e);t=t||100,Q=setTimeout(function(){X(e)},t)}else for(var n=v.length-1;0<=n;--n){var r=v[n].get("dom_id");if(f[r]){setTimeout(function(){AdBridg.display(r)},0);break}}};function Y(e){for(var t,n,r=j.length-1;0<=r&&!(t=(n=j[r]).findUnit(e));--r);return!t&&d&&(t=(n=d).findUnit(e)),!!t&&{auction:n,unit:t}}var Z=m.wrapAsync(function(t){var e,n=t.slot.getSlotElementId();!t.isEmpty&&L("RE",n)&&m.log("Slot rendered from GPT, but element hidden by CSS:",n);try{e=t.slot,m.log("Unlocked slot: ",e.getSlotElementId()),N[e.getSlotElementId()]=!1,C(e)}catch(e){m.err("Unlock failed")}var r=P[n];b.trigger("gpt.render_raw",t,r);var i=Y(function(e){return e.get("gpt_slot")===t.slot});if(g.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(_[n]||(_[n]={gpt:"",adb:""}),_[n].gpt=t.size.join("x")),i){if(!i.auction)return m.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?h.gptRendered(i.auction,i.unit,t):h.enhRendered(i.auction.instancectr,i.unit.id,t),b.trigger("gpt.render",i.unit,t,r),m.qdusp()}}),ee=m.wrapAsync(function(t){b.trigger("gpt.viewed_raw",t);var e=Y(function(e){return e.get("gpt_slot")===t.slot});if(e){h.gptViewed(e.auction,e.unit);try{var n=g.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){m.err("PostView fail",e)}b.trigger("gpt.viewed",t.slot,e.unit);var r=t.slot.getSlotElementId();L("VE",r)&&m.log("Slot viewed from GPT, but element hidden by CSS:",r)}}),te=[],ne={};window.AdBridg.lock=function(e){if(ne[e])return ne[e]=null,m.log("-== GPT lock already cleared: ",e);m.log("-== GPT locked by: ",e),te.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,r=0;r<te.length;++r)if(te[r]===e){m.log("-== GPT lock cleared: ",e),te.splice(r,1),n=!0;break}n||t||(ne[e]=!0,m.log("-== GPT unrecognized lock cleared: ",e)),ae()};var re,ie=[],oe=function(e,t){ie.push({n:e,f:m.wrapAsync(t)}),ae()},ae=function(){if(!te.length)for(;ie.length;)ie.shift().f()},se=0,e=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),se<=99&&(se+=1),h.meta("wb",se)})},H=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),h.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",e),window.addEventListener("focus",H)):window.attachEvent&&(window.attachEvent("onblur",e),window.attachEvent("onfocus",H)),m.isdebug()&&(AdBridg.auctions=j,AdBridg.utils=m);var de=m.wrapAsync(function(){clearTimeout(re);var e={delay:!1};if(b.trigger("adb.init_check",e),"number"!=typeof e.delay){b.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",Z),AdBridg.gpt.pubads().addEventListener("impressionViewable",ee),i=!0;var t=g.libSettings().initfn;for(t&&AdBridg.cmd.push(t);o.length;){var n=o.shift();AdBridg.cmd.push(n)}}else re=setTimeout(de,e.delay)});window.AdBridg.lazy=function(e,t,n,r){"function"==typeof n&&(r=n,n=0),m.dom(e,t,n,r)},m.log("First execution."),g.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){e=g.libSettings().preload&&g.libSettings().preload()||[];if(e.length){for(var t=AdBridg.cmd.length;0<=t;t--){var n=AdBridg.cmd[t];n&&n.gpt_path&&AdBridg.cmd.splice(t,1,function(n){function r(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?n.push(e):m.err("Invalid preload size: ",e)}var n=[];return m.isarr(e)&&(m.isarr(e[0])?m.each(e,t):t(e)),n}var i=r(n.size||[]);return function(){var t,e=AdBridg.defineSlot(n.gpt_path,i,n.dom_id);m.isarr(n.size_map)&&(t=AdBridg.sizeMapping(),m.each(n.size_map,function(e){t.addSize(e.viewport,r(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}(n))}e&&e.length&&(d=new c,m.each(e,function(e){if(e=parseInt(e,10),m.log("Preloading",e),e){var t=new p;if(g.configureUnit(t,e),!t.hasBidReqConf())return m.err("Preload bad id",e);u.push(e),d.addUnit(t)}}),d.hasUnit()&&(m.log("Preload kickoff",d),d.execute(m.wrapAsync(function(e){m.log("Preload complete"),r&&r(e)}))))}}});var ce=function(e){d.isDone()?e(d):r=e};g.afterConsent(function(){AdBridg.gpt.cmd.push(function(){m.log("Initializing. SRA is",(z?"enabled":"disabled")+"."),z&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),de()})}),m.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if(m.qs("adb_critfail"))throw new Error("Simulating critical failure");if("function"==typeof g.libSettings().cmd_override)try{var e=g.libSettings().cmd_override(t);if(!e)return void m.log("AdBridg command cancelled",t);t=e}catch(e){m.err("CmdOverrideFail",e)}if("object"!=typeof t||(t.config&&(g.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(m.each(t.events,function(e,t){b.on(t,e)}),delete t.events),t.action&&(m.log("Publisher event triggered: ","pub."+t.action),b.trigger("pub."+t.action),delete t.action),Object.getOwnPropertyNames(t).length))if(i){if("object"==typeof t&&(t.gpt_path||t.length))try{m.log("Initialization command object processing:",t);function n(i){AdBridg.gpt.cmd.push(function(){var n,e;if(i.oop)n=AdBridg.defineOutOfPageSlot(i.gpt_path,i.dom_id);else if((n=AdBridg.defineSlot(i.gpt_path,i.size||[1,1],i.dom_id))&&i.size_map){for(var t=AdBridg.sizeMapping(),r=0;r<i.size_map.length;r++)t=t.addSize(i.size_map[r].viewport,i.size_map[r].sizes);t=t.build(),n.defineSizeMapping(t),AdBridg.useSizeMapping(n,t)}n&&i.targeting&&m.each(i.targeting,function(e,t){n.setTargeting(t,e)}),n&&i.events&&(i.events["gpt.defined"]&&i.events["gpt.defined"](n),(e=function(t,e){i.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===n&&i.events[t](n,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),n&&AdBridg.display(i.dom_id)})}if(t.length)for(var r=0;r<t.length;++r)n(t[r]);else n(t);t=function(){AdBridg.serve()}}catch(e){m.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){m.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else o.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}function ue(){}},{"../analytics.js":10,"../auction.js":11,"../config.js":12,"../modules.js":15,"../unit.js":29,"../utils.js":30}],15:[function(e,t,n){function r(e){a.push(e)}var i=e("./utils.js"),o={},a=[],s=["gpt.after_enable_services"],d={},c={},u={on:function(e,t){i.isarr(e)||(e=[e]),i.each(e,function(e){d[e]?t(e):(c[e]||(c[e]=[]),c[e].push(t))})},trigger:null};u.trigger=n.trigger=i.wrapAsync(function(e){var t=arguments,n=(c[e]||[]).concat(c["*"]||[]);i.each(n,i.wrapAsync(function(e){e.apply(null,t)})),-1<s.indexOf(e)&&(d[e]=1)});var p=!1;i.onerr(i.wrapAsync(function(){return p?(console&&console.log("AdBridg nested module errors"),void i.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(p=!0,n.trigger("error",arguments),void(p=!1))})),n.on=i.wrapAsync(function(e,t){u.on(e,t)}),n.setup=function(e){o=e};try{r(new(e("./modules/gamkvp.js"))({},u)),r(new(e("./modules/criteoid.js"))({},u)),r(new(e("./modules/pubcid.js"))({},u)),r(new(e("./modules/nextrollid.js"))({partner_id:"1013"},u)),r(new(e("./modules/britepoolid.js"))({params:{api_key:"f0bc17cb-cf56-4ef4-9b26-34ea474310f8"}},u)),r(new(e("./modules/liverampid.js"))({use_ats:!0,load_ats:!0,defer:function(t){function e(){var e;n||(n=!0,e=o.libSettings().pub.cc,"US,AU,CA".match(e)?t():i.log("LiveRamp disabled in cc",e))}var n=!1;o.libSettings&&o.libSettings().pub?e():AdBridg.cmd.push({events:{"pub.config":e}})},abtest:1,pid:1974,params:{detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"rvid",cssSelectors:["input[type=email]"]},hasId:function(){return!!i.qs("rvid")}},u)),r(new(e("./modules/icu.js"))({modify_gpt_path:function(e){return e.replace("/4788/mnt/pagenumber","p")},modify_dom_id:function(e){return e.replace("__slot","")}},u)),r(new(e("./modules/lzest.js"))({},u)),r(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon",active_deals:["228138","289688","537706","537708","551228","555592","557266","557626","563118","563120","571722","577410","585212","587438","587740","593120","598926","601724","611022","617878","617898","617902","617904","636652","639656","640960","644612","646450","646454","646456","646458","646460","646462","646464","650190","650682","650688","652304","652318","652674","652676","652814","653364","653372","653374","653376","653618","653620","653624","653626","653628","653630","654156","654158","655884","656474","658412","658414","661672","661676","662338","662342","681840","681842","682346","683114","683116","683118","683120","683122","683124","683126","683128","683130","684220","684234","684702","685438","685440","686614","687354","692252","693512","693516","694194","695512","695514","695516","695518","695520","695522","695524","695526","704066","704728","705044","705046","705048","705292","706672","706694","706696","707888","707890","708380","711304","711632","711636","711642","713426","713430","713432","713434","713436","713438","713440","713442","713444","713446","713448","715108","715112","715114","715118","715120","715122","715128","715132","715138","715140","715290","716044","716046","717744","717746","717750","718298","718614","722042","723006","723006","725608","725684","725686","725698","726156","728286","728284","728282","728278","728276","728272","728270","728264","728302","730414","732206","732208","733104","733102","732788","732786","737548","737572","737586","737730","738836","738600","739226","741632","741908","743502","729174","717748","713428","680158","680156","664438","657076","630498","630492","630480","630478","509974","509972","426974","426972","224468","224464","178132","178128","176758","746904","746570","747488","747490","747492","747494","751574","752390"]},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang",active_deals:["IXMARKETPLACESTDMOBILE","IX1586788200","OMGIXMARKETPLACEDISPLAY2020","IXMARKETPLACESTDDISPLAY","IX591644687639373433","IX525702270424034978","IX525702221546178117","IX550264724736831538","IX550264684461350460","IXCPDBAYERDIS001","IXMARKETPLACEDISPLAY","IXCPDSTFRMDSPLY001","IX1595262354","IX560362592774763062"]},appnexus:{deal:"hb_deal_appnexus",adid:"hb_adid_appnexus",active_deals:["605026","605026","946028","717372","717369","717368"]}}},u)),r(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","300x50","320x50","728x90","970x250","970x90"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),i.log("Healthline config not detected; using globals")),{skip_init:!0}}},u))}catch(e){i.err("Module failed",e)}},{"./modules/amazon.js":16,"./modules/britepoolid.js":17,"./modules/criteoid.js":18,"./modules/gamkvp.js":19,"./modules/gprog.js":20,"./modules/icu.js":21,"./modules/liverampid.js":22,"./modules/lzest.js":23,"./modules/nextrollid.js":24,"./modules/pubcid.js":25,"./utils.js":30}],16:[function(e,t,n){var l=e("../utils.js"),f=e("../config.js"),i=(t.exports=function(o,e){function a(e){var n=[],r=o.allowed_sizes;return l.each(e,function(e,t){if(r&&-1==r.indexOf(e))return l.log("Amazon unsupported size: ",e);e=e.split("x");e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10),n.push(e)}),n}var s={},d={},c={},u=!l.qs("adb_enable_amzn")&&o.test;"function"==typeof u&&(u=u());var t=o.load_apstag;"function"==typeof t&&(t=t());var n=!1,r=!1;if("function"==typeof f.libSettings().nogpt&&f.libSettings().nogpt()||l.qs("adb_nogpt"))return l.log("nogpt Disabling Amazon"),void(u=r=!(t=!1));function p(){if(n)return u;var i=o.init;return"function"==typeof i&&(i=i(f.libSettings())),i?(n=!0,u?(l.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),u):window.apstag?void(i.skip_init||f.afterConsent(function(e,t){var n=t&&t.uspString,r=n&&"1---"===t.uspString;if(n&&(!r||!o.skip_ccpa_default)&&(i.params=i.params||{},i.params.us_privacy=t.uspString,o.no_ca&&"Y"===t.uspString.substr(2,1)))return u=!0,void l.log("Amazon disabled for CA",t.uspString);apstag.init(i),l.log("Amazon initialized:",i)})):(t||r||(l.err("Amazon library not found."),r=!0),u=!0)):(l.log("Amazon init bypassed."),!1)}u||!t||i()||(u=n=!0),e.on("unit.config",function(e,t){if(!p()){var n=t.get("dom_id"),r=t.get("gpt_slot");if(!n||!r)return l.log("Amazon skip",n,r);var i=r.getAdUnitPath()+"",r=o.get_slot_name?o.get_slot_name(i,n,r,t):(i.match(/([^\/]+)$/)||[""])[0];if(!r)return l.err("Amazon noname: ",r,n,i);r={slotID:n,slotName:r,sizes:d[n]||a(t.all_sizes)};o.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(t=window.PublisherCommonId.getId(),r.slotParams={"pubcid.org":[t]}),s[n]=r,l.log("Amazon slot configured",r,!!d[n])}}),e.on("unit.restrict_sizes",function(e,t,n){p()||(t=t.get("dom_id"),n=a(n),d[t]=n,(t=s[t])&&(l.log("Amazon slot resize",t,n),t.sizes=n))}),e.on("gpt.destroy",function(e,t,n){p()||(l.log("Amazon slot remove",n),delete s[n],delete d[n])}),e.on("unit.pre_attach",function(e,t){if(!p()){var n=t.get("dom_id"),r=s[n];if(!r)return l.log("Amazon preload mismatch",n);var i=t.auction,o="amazon."+t.id;i.lock(o),apstag.fetchBids({slots:[r],timeout:i.max_ms},l.wrapAsync(function(){l.log("Amazon preload response",i.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}i.unlock(o)}))}}),e.on("auction.start",function(e,t){var n,r,i,o;p()||(n=[],t.eachUnit(function(e){var t=e.get("dom_id"),e=s[t];e?(n.push(e),s[t]=null):l.log("Amazon no config",t)}),n.length&&(r={slots:n,timeout:t.max_ms},l.log("Amazon request",t.id,r),i="amazon."+t.id,c[i]=!0,t.lock(i),o=setTimeout(l.wrapAsync(function(){c[i]&&(c[i]=!1,t.unlock(i),l.err("Amazon incomplete at 50"))}),t.max_ms+50),apstag.fetchBids(r,l.wrapAsync(function(){l.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}clearTimeout(o),c[i]&&(c[i]=!1,t.unlock(i))}))))})},function(){if(window.apstag)return l.log("Amazon already loaded"),!0;l.log("Loading Amazon dependency");try{n="apstag",r=window,i=document,r[n]||(r[n]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(t=i.createElement("script")).async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",(i=i.getElementsByTagName("script")[0]).parentNode.insertBefore(t,i))}catch(e){return l.err("Amazon load failed",e),!1}function e(e,t){r[n]._Q.push([e,t])}var n,r,t,i;return!0})},{"../config.js":12,"../utils.js":30}],17:[function(t,n,e){function u(e){r=e,p.thread(function(){t("../analytics.js").meta("i2",r)})()}var r,p=t("../utils.js"),l=t("../ajax.js"),i=t("../config.js"),f="britepoolid",g="https://px.britepool.com/new?partner_id=t";u("N");var o,a=!1;n.exports=function(s,e){var d,c=!1;if(o||(o=!0,e.on("gamkvp.getids",function(e,t){c?t.push("i2y"):t.push("i2n")})),s.defer&&!a)return a=!0,p.log("Britepool deferring load"),void s.defer(p.wrapAsync(function(){p.log("Britepool resuming load"),n.exports(s,e)}));!s.active||s.active()?(p.log("Britepool enabled"),(c=p.cr(f))&&(p.log("Britepool read: ",c),u("C")),e.on("unit.config",function(e,t){c&&(p.log("Set britepool ID on unit",c,t),t.set("userId.britepoolid",c),t.set("userIdAsEids.britepool",{source:"britepool.com",uids:[{id:c,atype:1}]}))}),c||(d=function(e){var t=null;if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){p.err(e)}return t},i.afterConsent(function(e){var t,n=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,r=[],i={},o="undefined"!=typeof britepool_pubparams?britepool_pubparams:{},e=Object.assign({},s.params,o);e.getter?"function"!=typeof e.getter?r.push("Britepool requires getter to be a function"):t=e.getter:e.api_key&&(i["x-api-key"]=e.api_key);o=e.url;e.url||(o="https://api.britepool.com/v1/britepool/id"+(n?"?gdprString="+encodeURIComponent(n):"")),delete e.api_key,delete e.url,delete e.getter;var a=null;if("function"==typeof t&&(p.log("Britepool exec getter",e),"function"!=typeof(a=t(e))))return p.log("Britepool got id from getter",a),c=d(a),u("GV"),void p.cw(f,c,30);if(e.hash||e.ppid||(p.log("Britepool pixel",g),p.pixel(g)),r.length)p.log("Britepool errors",r);else if(a){p.log("Britepool getting id from getterResponse exec");try{a(function(e){p.log("Britepool set id from getterResponse",e),c=d(e),u("GF"),p.cw(f,c,30)})}catch(e){p.log("Britepool error in getterResponse exec",e),u("GE")}}else{p.log("Britepool fetching from url",o);e={url:o,withCredentials:!0,parseResponseJson:!0,headers:i,method:"POST",contentType:"application/json",data:JSON.stringify(e)};l(e,function(e,t){var n;e?"timeout"===e.type?u("ET"):e.type?(n=e.type.match(/status=(\d+)/))&&u("E"+n[1]):u("E"):(n=d(t))?(p.log("Britepool set id xhr",n.primaryBPID),c=n.primaryBPID,u("A"),p.cw(f,c,30)):p.log("Britepool no id",t)})}}))):p.log("Britepool disabled")}},{"../ajax.js":9,"../analytics.js":10,"../config.js":12,"../utils.js":30}],18:[function(t,e,n){function d(e){r=e,c.thread(function(){t("../analytics.js").meta("i3",r)})()}var r,i,c=t("../utils.js"),u=t("../ajax.js"),o=t("../config.js"),p="criteoId",l="cto_bidid",f="cto_bundle";d("N"),e.exports=function(e,t){var a;function n(e){var t=c.cr(e);return t?d("C"):(t=c.lr(e))&&d("L"),t}function s(e,t){e&&t&&(c.cw(e,t,390),c.lw(e,t))}function r(e,t){var n=c.cookies,r=(c.url().referrer||"").replace(/^(https?\:\/\/[^\/]+).*$/,"$1/"),i=c.url().domain,o="undefined"!=typeof criteo_pubtag,o=(r=r,i=i,e=e.bundle,n=n,o=o,t=t,"https://gum.criteo.com/sid/json?origin=prebid"+(r?"&topUrl="+encodeURIComponent(r):"")+(i?"&domain="+encodeURIComponent(i):"")+(e?"&bundle="+encodeURIComponent(e):"")+(t?"&gdprString="+encodeURIComponent(t):"")+(n?"&cw=1":"")+(o?"&pbt=1":""));u({url:o,withCredentials:!0,parseResponseJson:!0},function(e,t){var n,r;return e?("timeout"===e.type?d("ET"):e.type?(n=e.type.match(/status=(\d+)/))&&d("E"+n[1]):d("E"),void c.log("CriteoID err",e)):(t.bidId?(s(l,t.bidId),a=t.bidId,d("A")):(r=l,c.cw(r,"",-1),c.lw(r,"")),void(t.acwsUrl?(r="string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl,c.each(r,function(e){c.log("CriteoID acwsUrl",e),c.pixel(e)})):t.bundle&&s(f,t.bundle)))})}i||(i=!0,t.on("gamkvp.getids",function(e,t){a?t.push("i3y"):t.push("i3n")})),!e.active||e.active()?(c.log("CriteoID enabled"),o.afterConsent(function(e){var t;e&&e.gdprApplies&&!e.consentString||(t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,(e={bundle:n(f),bidId:n(l)}).bidId&&(a=e.bidId),r(e,t))}),t.on("unit.config",function(e,t){a&&(c.log("Set CriteoID on unit",a,t),t.set("userId."+p,a),t.set("userIdAsEids."+p,{source:"criteo.com",uids:[{id:a,atype:1}]}))})):c.log("CriteoID disabled")}},{"../ajax.js":9,"../analytics.js":10,"../config.js":12,"../utils.js":30}],19:[function(e,t,n){var o=e("../utils.js");t.exports=function(e,i){googletag.cmd.push(function(){i.on("auction.before_bids",function(){var t,e,n,r=[];i.trigger("gamkvp.getids",r),r=r.filter(function(e){return!!e.match(/^i[\w\d]{2}$/)||(o.err("GamKVP.badIdValue",e),!1)}),o.log("GamKVP setting identity tracking values in adb_pvd:",r),t=/^i/,e=r,r=googletag.pubads().getTargeting("adb_pvd")||[],n=[],r.forEach(function(e){String(e).match(t)||n.push(e)}),e&&e.length&&(n=n.concat(e)),googletag.pubads().setTargeting("adb_pvd",n),o.log("GamKVP set adb_pvd values: ",n)})})}},{"../utils.js":30}],20:[function(e,t,n){var l=e("../utils"),o=e("../config"),a=e("../analytics.js");t.exports=function(u,e){var n,p,r,i;u.bidders&&((n=o.libSettings()).gpt_clear_kvps||(n.gpt_clear_kvps=[]),l.each(u.bidders,function(e,t){n.gpt_clear_kvps.push(e.deal),n.gpt_clear_kvps.push(e.adid)}),p={},r=l.wrapAsync(function(e,t){var n;l.log("Confiant Gprog Deal Render Ad",t,p[t]),a.gprog(["render"]),p[t]?(n=p[t],AdBridg.render(e,n),p[t]=!1,a.gprog(["render2",{config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras}])):l.err("Confiant GprogBadDealid",t)}),e.on("bid.auction_close_filter",function(e,t,n){var r=n.config.bidder_name,r=u.bidders[r],r=r&&r.active_deals;"function"==typeof r&&(r=r(t,n)),r&&r.length&&n.extras&&n.extras.dealid&&(t=String(n.extras.dealid),0<=r.indexOf(t)&&(n.blocked="pmp",l.log("Confiant Gprog: active deal removed from open market auction",n)))}),(i=window.top).pbjs=i.pbjs||{},i.pbjs.renderAd=r,e.on("auction.complete",function(e,t){!i.pbjs.renderAd!==r&&(i.pbjs.renderAd=r),t.eachBidRequest(function(n,r){var i,o,a,s,d,c=r.bidder_name,e=u.bidders[c];e&&(i=e.deal,o=e.adid,e=n.get("gpt_slot"),a=n.get("dom_id"),e&&a&&i&&o&&(s=[],d=[],l.each(r.responses,function(e){var t;e.extras&&e.extras.dealid&&(t=r.id,p[t]&&p[t].creative!=e.creative&&l.log("Confiant GprogOWcreative"),p[t]=e,s.push(e.extras.dealid),d.push(r.id),l.log("Confiant GprogDeal ("+c+"): ",n.alias,"/",a,i,"=",e.extras.dealid,";",o,"=",r.id))}),s.length&&(n.settings.gprog=n.settings.gprog||{},n.settings.gprog[i]=s,n.settings.gprog[o]=d)))})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&l.each(t.settings.gprog,function(e,t){n.setTargeting(t,n.getTargeting(t).concat(e)),a.gprog(["set",t])})}))}},{"../analytics.js":10,"../config":12,"../utils":30}],21:[function(P,e,t){var U=P("../utils.js"),n=P("../modulewrapper.js");e.exports=n({name:"icu"},function(s,d){var t=s.tick_ms||100,c=3e4,x=5e3,u=500,w={},n={unknown:0,above_viewport:1,below_viewport:2,partially_above_viewport:3,in_viewport:4,partially_below_viewport:5},r={"160x600":1,"300x250":2,"300x600":3,"320x50":4,"320x100":5,"468x60":6,"728x90":7,"970x90":8,"970x250":9},p=0,l=0,f=U.dts(),i=0,g=!1,m=!1,o={init:0,focus:1,mousemove:2,mousedown:3,click:4,touchstart:5,touchend:6,keydown:7,keyup:8,scroll:9};function h(e){e=Math.round(e.c.w)+"x"+Math.round(e.c.h);return r[e]||e}function a(e){return"number"!=typeof e&&(e=U.dts()),Math.floor(e/10).toString(36)}function b(e){return Math.floor(20*e.o.v)}function v(e){return b(e).toString(36)}function y(e){return.05<=e.v}function _(e){return 0<n[e.p]?y(e)?v(e):(Math.floor(e.d)||0).toString(36):"0"}function S(e){return{t:a(),p:(t=e,String(n[t.p])+(Math.floor(t.c.vp.y+t.c.t)||0).toString(36)+"."+(Math.floor(t.c.vp.y)||0).toString(36)),d:_(e),i:(g?"1":"0")+i+a(U.dts()-f)};var t}function A(e,t,n){n=n||T;var r=w[e];if(r.dt&&r.m.length){var n=S(t),t=[r.dt,r.a,r.uid,r.uuid],n=[r.dctr,r.mctr,r.r.t,r.r.p,r.r.d,r.r.i,r.v.t,r.v.p,r.v.d,r.v.i,n.t,n.p,n.d,n.i].join(","),i=[];U.each(r.s,function(e){0<e[0]?i.push(e[0].toString(36)+"."+e[1]):i.push(e[1])}),i=i.join(",");for(var o,a,s,d,c=[],u=20;0<=u;--u){for(var p,l=0,f=0,g=0,m=0,h=0,b=0,v=0;v<r.m.length;++v){var y,_=r.m[v];_.vn>=u?(y=_.d*_.vn,l+=_.d,f+=y,h+=_.d,b+=y,g=Math.max(h,g),m=Math.max(b,m)):b=h=0}0<f&&(l!==o||g!==s||f!==a||m!==d)&&(o=l,a=f,s=g,d=m,p=u.toString(36)+"."+l.toString(36)+"."+f.toString(36),l===g&&f===m||(p+="."+g.toString(36)+"."+m.toString(36)),c.push(p))}c=c.join(",");n=[n,i,c].join("_");U.logl("icu",T,C," // ",e,"stopped"),P("../analytics.js").sqz(x,"zi",t,"z",n),r.mctr+=1}else U.logl("icu",T,C," // ",e,"stopped empty");r.lts=0,r.v=!1,r.ve=!1,r.m=[]}U.isdebug()&&(AdBridg.icu={measurements:w,stat:function(){var e=U.dts(),n="unknown";return U.each(o,function(e,t){i===e&&(n=t)}),{last_measure:p,measure_ms:e-p,last_evt:n,idle_ms:e-f,idle:g}}});var I=!1,j=!1,k=!1,z=!1,C=0,T=0;function R(e){z=!0,t<e-T&&(C+=1,T=e,function(){var e,t,n,r,i,o,a=!1;for(e in p=U.dts(),l=p+u,g=g||c<p-f,(!m&&g||!g&&m)&&(m=g),w)w.hasOwnProperty(e)&&(t=w[e],!y(n=U.where(e,!0,t.ok))||n.o.o?d.trigger("icu.offscreen",t,n):y(n)&&!n.o.o&&d.trigger("icu.onscreen",t,n),g||!y(n)||.95<=n.o.o?(t.v&&A(e,n),y(n)||function(e){B[e]||(B[e]=!0,U.dom(e,.01,0,O))}(e)):(r=Math.floor((T-t.lts)/10))&&((o=h(n))!=t.s[t.s.length-1][1]&&(t.s.push([r,o]),d.trigger("icu.resized",t,n)),a=!0,t.v?(t.lts=T,i=v(n),o=t.m.length-1,(o=0<=o&&t.m[o])&&o.v==i?(o.d+=r,o.te=T):t.m.push({d:r,t:T,v:i,vn:b(n)})):(U.logl("icu",T,C," // ",e,"started"),t.v=S(n),t.lts=T)));a||(j=!1)}()),k=k&&!(j=!0),j&&(I=window.requestAnimationFrame(R)),z=!1}function E(){k=!0,z||(I&&window.cancelAnimationFrame(I),I=window.requestAnimationFrame(R))}var B={};function O(e){B[e]=!1,E()}function D(e,t,n,r,i){var o=!!r&&e;o&&s.modify_dom_id&&(o=s.modify_dom_id(o));var a=U.where(e,!0);w[e]&&A(e,a,U.dts()),r=h(a),w[e]={a:n,d:e,dt:o,ok:i,dctr:t,mctr:1,uid:0,uuid:0,lts:0,r:S(a),s:[[0,r]],m:[]},E()}var M;d.on("gpt.render_raw",function(e,t,n){var r=t.slot.getAdUnitPath();s.modify_gpt_path&&(r=s.modify_gpt_path(r));t=t.slot.getSlotElementId();D(t,n,r,!0)}),d.on("gpt.render",function(e,t,n,r){n=n.slot.getSlotElementId();w[n].uid=t.id,w[n].uuid=t.unique_id}),window.addEventListener&&(M=function(e){g=!1,f=U.dts(),i=o[e.type]||"u",l<f&&E()},U.each(Object.keys(o),function(e){"init"!==e&&window.addEventListener(e,M,!0)}),window.addEventListener("blur",function(){g=!0})),d.on("icu.watch",function(e,t,n,r){D(t,1,!1,n,r)}),d.on("icu.ignore",function(e,t){w[t]&&delete w[t]})})},{"../analytics.js":10,"../modulewrapper.js":26,"../utils.js":30}],22:[function(n,g,t){function m(e){z=e;var t=C();return 0<=o.indexOf(e)&&x.cw(k,t,30),t}function h(e){return i=e,C()}var b,v,y,_,x=n("../utils.js"),w=n("../ajax.js"),S=n("../config.js"),A="idl_env",I=A,j="https://ats.rlcdn.com/ats.js",r="i0",k="adb_lrs",i="",z="n",o=["A","X","aX"],C=function(){var t=(t=i+z).replace(/B/g,"");return x.thread(function(){var e=t;"b"===v&&(e+="B"),n("../analytics.js").meta(r,e)})(),t},T=x.qs("adb_lr_grp"),R=function(e){v=e,y=y||String(Math.floor(10*Math.random())),b=v+y,x.cw("adblrt",b,30),E()},E=function(){x.thread(function(){n("../analytics.js").meta("i0ab",b)})()},B=!1,O=!1;g.exports=function(o,t){if(C(),_||(_=!0,t.on("gamkvp.getids",function(e,t){O?"A"===z?(t.push("i0a"),x.log("liveramp gamkvp.getids","a")):(t.push("i0x"),x.log("liveramp gamkvp.getids","x")):(t.push("i0n"),x.log("liveramp gamkvp.getids","n"))})),o.defer&&!B)return B=!0,x.log("LiveRamp deferring load"),void o.defer(x.wrapAsync(function(){x.log("LiveRamp resuming load"),g.exports(o,t)}));if(!o.active||o.active()){x.log("LiveRamp enabled"),o.abtest&&((b=x.cr("adblrt"))&&!T?(v=b[0],y=b.substr(1),E()):T||!x.cr(I)?R("n"):R("c")),O=x.cr(I);var n=x.cr(k);if(O||"b"===v&&n){var r=(n=n||"X").replace("p","").replace("P",""),i=n.replace(r,"");if(h(i),m(r),x.log("LiveRamp read: ",n,i,r,O),"b"===v)return O=!1,void x.log("LiveRamp A/B B group")}t.on("unit.config",function(e,t){O&&(x.log("Set lre ID on unit",O,t),t.set("userId."+A,O),t.set("userIdAsEids.liveramp",{source:"liveramp.com",uids:[{id:O,atype:1}]}))});var a=!1,s=!1,d=!1,c=!1,u=0,p=function(){return window.ats?(x.log("LiveRamp intialising ats",c),a=!1,window.ats.start(c),void f(d)):s?(x.log("LiveRamp ats not found; fallback to IDL"),void f(d,!(a=!1))):(a=p,void(o.load_ats||(x.log("LiveRamp ats not loaded yet, check #",u),10<(u+=1)?(x.log("LiveRamp ats took too long to load"),s=!(a=!1),p()):setTimeout(p,500))))};o.load_ats&&(r=x.wrapAsync(function(){window.ats||(x.log("LiveRamp ats script load fail"),s=!0),a&&a()}),x.log("LiveRamp ATS loading: ",j),x.load(j,r).onerror=r);function l(e,t){if(o.abtest&&"n"===v&&(T?R(T):o.abtest<1&&Math.random()>o.abtest?R("c"):.5<Math.random()?R("a"):R("b")),m(t),o.abtest&&"b"===v){try{localStorage.removeItem("IXWRAPPERLiveRampIp"),window.ats=!1}catch(e){}x.log("LiveRamp AB - B group exit")}else x.log("LiveRamp set: ",e),O=e,x.cw(I,O,30)}var f=function(t,i){if(O)x.log("LiveRamp fetch skipped, envelope exists");else{if(o.use_ats&&window.ats&&!i)return x.log("LiveRamp fetch ats"),void window.ats.retrieveEnvelope(x.wrapAsync(function(e){e?(x.log("LiveRamp found envelope (ats)"),l(JSON.parse(e).envelope,"A")):(x.log("LiveRamp no ats user; fetching standard"),m("a"),f(t,!0))}));w({url:t,withCredentials:!0,parseResponseJson:!0},function(t,n){if(t){var r=String(t.type).match(/^status=(\d+)$/i);return r?x.err("LRIDERR_"+r[1]):t.type?x.err("LRIDERR_"+t.type):x.err("LRIDERR",e),void m(r=i?"ae":"e")}n&&n.envelope?(x.log("LiveRamp found envelope (standard)"),r=i?"aX":"X",l(n.envelope,r)):(x.log("LiveRamp unknown user: envelope empty, refetch next pv"),m(r=i?"ax":"x"))})}};S.afterConsent(function(e){var t,n,r;e&&e.gdprApplies&&!e.consentString||(o.pid?(r=(t=e&&e.gdprApplies?1:0)&&e.vendorData&&2===e.vendorData.tcfPolicyVersion,n="https://api.rlcdn.com/api/identity/envelope?pid="+o.pid+(t?(r?"&ct=4&cv=":"&ct=1&cv=")+e.consentString:""),o.use_ats?(d=n,c={placementID:o.pid},o.params&&(r="function"==typeof o.params?o.params():o.params,r=(c=Object.assign(c,r)).email||c.phoneNumber||o.hasId&&o.hasId()||!1,O||h(r?"P":"p")),t&&(c.consentString=e.consentString),p()):f(n)):x.log("LiveRamp disabled: no pid."))})}else x.log("LiveRamp disabled")}},{"../ajax.js":9,"../analytics.js":10,"../config.js":12,"../utils.js":30}],23:[function(e,t,n){var o=e("../utils");t.exports=function(e,t){var r={},n={},i=e.offset_distance||400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);r[t]="lzno",n[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,n[t])),n[t]=function(){o.logl("lz","LazyEst triggered",t),r[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,i,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",r[t.get("dom_id")]||"lzna")})}},{"../utils":30}],24:[function(t,e,n){function a(e){r=e,s.thread(function(){t("../analytics.js").meta("i4",r)})()}var r,s=t("../utils.js"),d=(t("../ajax.js"),t("../config.js"),"_adb_nextroll_id");a("N"),e.exports=function(e,t){var n=!1;if(t.on("gamkvp.getids",function(e,t){n?t.push("i4y"):t.push("i4n")}),"string"==typeof e.partner_id){if(!function(){var e=navigator.userAgent.toLowerCase();if(0<=e.indexOf("(linux; android ")){var t=e.substr(e.indexOf("linux; android ")+15).split(/\W/),n=parseInt(t[0]),r=parseInt(t[1]),t=parseInt(t[2]);if(isNaN(n)||n<4||4===n&&isNaN(r)||4===n&&0===r&&(isNaN(t)||t<3))return}else if(!e.match(/\b(ipad|iphone|ipod)\b/)||parseInt(e.substr(e.indexOf(") version/")+10),10)<9)return;return 1}())return s.log("Nextroll ID skipped: invalid UA"),void a("U");if(n=s.lr(d,!0),t.on("unit.config",function(e,t){n&&(s.log("Set Nextroll ID on unit",n,t),t.set("userId.nextroll",n))}),n)return s.log("Nextroll ID read",n),void a("L");var r=!1;t.on("gpt.render_raw",function(){r||(r=!0,s.log("Nextroll ID setup"),i(),window.RetrieveAdID(o,o,{PID:e.partner_id,app:"nextroll_id_module"}))})}else s.err("Nextroll missing partner_id");function i(){var t,n=["ReadAdID","YES","RetrieveNearestAdID","&ssn=","slice","join","ignoreOptout","&eid=","/push?uid=","/ping?uid=","dca0","loadSSN","exports","call","defineProperty","toStringTag","__esModule","object","create","string","default","hasOwnProperty","undefined","Module","bind","prototype","floor","random","toString","xid0","XIDOPTOUT","https://sn.dca0.com/key","https://sn36.dca0.com","GET","onreadystatechange","readyState","DONE","responseText","status","send","https://l",".dca0.com/srv-id/?uid=","k4838af91965497293f0d0f92c691c29","length","charAt","substring","indexOf","getTime","expires=","toUTCString","cookie",";path=/;samesite=none;secure;","PID","app","createElement","script","src","body","appendChild"];t=n,function(e){for(;--e;)t.push(t.shift())}(249);var r,i,j=function(e,t){return n[e=+e]};function o(e){if(i[e])return i[e][j("0x0")];var t=i[e]={i:e,l:!1,exports:{}};return r[e][j("0x1")](t[j("0x0")],t,t.exports,o),t.l=!0,t[j("0x0")]}i={},o.m=r=[function(e,t){function i(e){if(r[e])return r[e][j("0x0")];var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r;r={},i.m=n=[,,function(e,t,n){e[j("0x0")]=n(3)},function(e,t){!function(){"use strict";var e,t,h=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),n=j("0x11"),b=j("0x12"),v=j("0x13"),y=j("0x14");function r(){return Math[j("0xe")](65536*(1+Math[j("0xf")]()))[j("0x10")](16).substring(1)}function _(e,t){var n=new XMLHttpRequest;n.open(j("0x15"),e,!0),n[j("0x16")]=function(){n[j("0x17")]===XMLHttpRequest[j("0x18")]&&t&&t(n[j("0x19")],n[j("0x1a")])},n[j("0x1b")]()}function x(t){var r=new Array(19),i=0,o=!1;function e(e,t,n){200===n?(t=JSON.parse(t),r[e]=t.id,i++):o=!0}for(var n=0;n<19;n++)_(j("0x1c")+n+j("0x1d")+h,e[j("0xc")](void 0,n));!function e(){o?t(null):19!==i?setTimeout(e,100):t&&t(r)}()}function w(n){!function e(){var t=window[j("0x1e")];t?n&&n(t):setTimeout(e,100)}()}function S(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=n[j("0x1f")],i=0;i<r;i++){for(var o=n[i];" "===o[j("0x20")](0);)o=o[j("0x21")](1);if(0===o[j("0x22")](t))return o[j("0x21")](t.length,o[j("0x1f")])}return""}function A(e,t,n){var r=new Date;r.setTime(r[j("0x23")]()+24*n*60*60*1e3);r=j("0x24")+r[j("0x25")]();document[j("0x26")]=e+"="+t+";"+r+j("0x27")}function I(e,t){return t&&(t.PID&&(e+="&PID="+t[j("0x28")]),t[j("0x29")]&&(e+="&app="+t[j("0x29")])),e}(e=document[j("0x2a")](j("0x2b")))[j("0x2c")]=v,t=e,function e(){document[j("0x2d")]?document.body[j("0x2e")](t):setTimeout(e,1)}(),window[j("0x2f")]=function(){return j("0x30")===S(b)?null:S(n)},window[j("0x31")]=function(n,r){w(function(t){x(function(e){e?_(I(v+"/"+t+"/ping/nearest?uid="+h+j("0x32")+e[j("0x33")](0,19)[j("0x34")](""),r),n):n&&n(null)})})},window.RetrieveAdID=function(e,r,i){var o=!!i&&i[j("0x35")];if(j("0x30")===S(b)&&!o)return e&&e(null),void(r&&r(null));var a=i&&i[j("0x28")]?n+"_"+i[j("0x28")]:n,s=S(a)||null;e&&e(s);var d=!1,c=2,u="",p="";function l(t){!function e(){d?s&&t(s):setTimeout(e,1e3)}()}function f(e,t,n){_(I(v+"/"+e+"/push?uid="+h+j("0x36")+encodeURIComponent(n)+j("0x32")+t.slice(0,19)[j("0x34")]("")))}function g(e,t){_(I(y+j("0x37")+h+j("0x36")+encodeURIComponent(t)+j("0x32")+e.slice(0,10).join(""),i))}function m(){var e,t,n;0==--c&&(s=u||p||s||null,d=!0,o?r&&r(s):s?(e=s,t=i,n=function(e){return e?(A(b,j("0x30"),1825),void(r&&r(null))):(A(a,s,365),void(r&&r(s)))},_(I("https://optout.dca0.com/app/v1/sync?uid="+h+j("0x36")+encodeURIComponent(e),t),function(e){n("1"===e)})):r&&r(null))}x(function(n){var e;n?(w(function(t){var e;e=n,_(I(v+"/"+t+j("0x38")+h+"&ssn="+e[j("0x33")](0,19)[j("0x34")]("")),function(e){u=e,m(),u||l(f[j("0xc")](null,t,n))})}),e=n,_(I(y+"/ping?uid="+h+j("0x32")+e[j("0x33")](0,10)[j("0x34")](""),i),function(e,t){p=e,m(),p||200!==t||l(g["bind"](null,n))})):r&&r(null)})},window.dca0=window[j("0x39")]||{},window[j("0x39")].loadSNID=w,window[j("0x39")][j("0x3a")]=x}()}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object[j("0x2")](e,t,{enumerable:!0,get:n})},i.r=function(e){j("0xa")!=typeof Symbol&&Symbol[j("0x3")]&&Object[j("0x2")](e,Symbol[j("0x3")],{value:j("0xb")}),Object[j("0x2")](e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&j("0x5")==typeof t&&t&&t[j("0x4")])return t;var n=Object[j("0x6")](null);if(i.r(n),Object.defineProperty(n,j("0x8"),{enumerable:!0,value:t}),2&e&&j("0x7")!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}[j("0xc")](null,r));return n},i.n=function(e){var t=e&&e[j("0x4")]?function(){return e[j("0x8")]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object[j("0xd")].hasOwnProperty[j("0x1")](e,t)},i.p="/",i(i.s=2)}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object[j("0x2")](e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol[j("0x3")],{value:"Module"}),Object[j("0x2")](e,j("0x4"),{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&j("0x5")==typeof t&&t&&t[j("0x4")])return t;var n=Object[j("0x6")](null);if(o.r(n),Object[j("0x2")](n,"default",{enumerable:!0,value:t}),2&e&&j("0x7")!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e[j("0x4")]?function(){return e[j("0x8")]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype[j("0x9")][j("0x1")](e,t)},o.p="/",o(o.s=0)}function o(e){s.log("Nextroll ID fetched",e||"(empty)"),function(e){if(null!=e&&""!==e)return 1;a("E")}(e)&&(n=e,a("A"),s.lw(d,e))}}},{"../ajax.js":9,"../analytics.js":10,"../config.js":12,"../utils.js":30}],25:[function(n,e,t){var r,i=n("../utils"),o="_pubcid",a="PublisherCommonId",s=i.cr("_pubcid_optout"),d="N";try{s||("object"==typeof window[a]?(r=window[a].getId(),d="A",i.log("Read pubcid from API:"+r)):(r=i.cr(o),d=r?"C":(r=i.lr(o))?"L":(r=i.genUUID(),"G"),i.cw(o,r,1825),i.lw(o,r),window[a]={getId:function(){return r}},i.log("Read pubcid from cache"+r)))}catch(e){i.err("pubcid init fail",e),d="E"}e.exports=function(e,t){r&&t.on("unit.config",function(e,t){t.set("userId.pubcid",r),t.set("userIdAsEids.pubcid",{source:"pubcid.org",uids:[{id:r,atype:1}]})}),t.on("gamkvp.getids",function(e,t){r?t.push("i1y"):t.push("i1n")}),i.thread(function(){n("../analytics.js").meta("i1",d)})()}},{"../analytics.js":10,"../utils":30}],26:[function(e,t,n){var s=e("./utils.js"),d=e("./config.js");t.exports=function(e,i){var o=e.name||"summodhuh",a=function(e,t){if(e.pub_active){var n=d.libSettings("pub");if(!n){s.log(o,"pub check deferred");var r=!1;return void t.on("pub.config",s.wrapAsync(function(){r||(r=!0,a(e,t))}))}if(!e.pub_active(n))return void s.log(o,"inactive due to pub check")}if(e.active&&!e.active())return s.log(o,"inactive");s.log(o,"instantiating"),i(e,t)};return a}},{"./config.js":12,"./utils.js":30}],27:[function(e,t,n){var a=e("./utils.js");function r(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,e=e.loaded;this.url=n,this.config=r,this.handlers={},this.id=i,this.loaded=e,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):a.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},a.load(n,this.callback,!0)}r.install=function(e){return new r({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},r.prototype.getConfig=function(){return this.config},r.prototype.setRender=function(e){this.render=e},r.prototype.setEventHandlers=function(e){this.handlers=e},r.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),a.log("Prebid Renderer event for id "+t+" type "+e)},r.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){a.err("Error processing Renderer command: ",e)}},t.exports=r},{"./utils.js":30}],28:[function(e,t,n){function g(t){var e="GET"===t.method&&("object"==typeof t.data?b.toqs(t.data,!0):t.data),e={method:t.method,url:"GET"===t.method&&e?[t.url,"?",e].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType};return s.libSettings().ajaxraw&&(e.rawProcessor=function(e){s.libSettings().ajaxraw(t,e)}),e}function i(e,t){var n=t.config.size.split("x"),t=n[0],e=(2*(n=n[1])<t?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",n,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"]:["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",n,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"]).join("");return e+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function m(e,t){return{creative:e.ad||(e.native?(n=e.native,((r=t).unit.settings&&r.unit.settings.nativeTemplate||i)(n,r)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId||e.dealid,crid:e.creativeId||e.creativeid,ttl:e.ttl,cur:e.currency,nr:e.netRevenue,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var n,r}function r(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),t=n[0],n=n[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(n)):e[t]=n||"",e},{}):{}}var o,a,h=e("./ajax.js"),b=e("./utils.js"),s=e("./config.js"),d=e("./renderer.js"),v={auction:void 0,gdpr_consent_object:void 0},e=function(e,t){var n=document.createElement("a");t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);t=t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},y={createEidsArray:function(){var e=v.auction.findUnit(function(){return 1}),e=e&&e.toPrebidUIDs();return e&&e.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getRefererInfo:function(){return{referer:b.url().href,stack:[b.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},utils:{mergeDeep:function(e,t){if(!e||!t||"object"!=typeof e||"object"!=typeof t)return e;for(var n in t){var r=typeof t[n];switch("object"===r&&Array.isArray(t[n])&&(r="array"),r){case"array":e[n]=(e[n]||[]).concat(t[n]);break;case"object":e[n]=y.utils.mergeDeep(e[n]||{},t[n]);break;default:e[n]=t[n]}}return e},getGptSlotInfoForAdUnitCode:function(t){var e;return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots&&(e=find(window.googletag.pubads().getSlots(),function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t})),e?{gptSlot:e.getAdUnitPath(),divId:e.getSlotElementId()}:{}},parseUrl:function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+y.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:b.qs,getAdUnitSizes:!1,parseQueryStringParameters:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,n,r){n=(t=t||document).getElementsByTagName(n||"head");n.length||(n=t.getElementsByTagName("body"));n=n[0];if(n)return n.insertBefore(e,r?null:n.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!b.url().is_top},_map:function(n,r){if(!n)return[];if("function"==typeof n.map)return n.map(r);var i=[];return b.each(n,function(e,t){i.push(r(e,t,n))}),i},deepAccess:b.deepAccess,deepSetValue:function(e,t,i){return t.split(".").reduce(function(e,t,n,r){return n===r.length-1?e[t]=i:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return b.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:b.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:b.err,logWarn:b.log,logMessage:b.log,logInfo:b.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(r,i){return b.each(r,function(e){var t=r[e],n=r[e];i[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(i[e])&&delete i[e]}),i},createTrackPixelHtml:b.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var n=[];return b.each(e,function(e,t){t={key:t};Array.isArray(e)&&(t.value=e.map(function(e){return e+""})),null!=e&&(t.value=[e+""]),t.hasOwnProperty("value")&&n.push(t)}),n},tryAppendQueryString:function(e,t,n){return n?e+(t+"="+encodeURIComponent(n))+"&":e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:b.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function r(i){return Object.keys(i).reduce(function(e,t){var n={}.toString.call(i[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?r(i[t]):"Date"===n?new Date(i[t].getTime()):"RegExp"===n?new RegExp(i[t]):i[t],e},Array.isArray(i)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,r){return e.reduce(function(e,t,n){return n%r?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?y.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:b.genUUID,getBidRequest:function(e,t){for(var n=0;n<t.length;++n)for(var r=t[n],i=0;i<r.bids.length;++i){var o=r.bids[i];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}b.err("shimGetBidRequestFail",e)},triggerPixel:function(e){b.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return b.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:b.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,_each:b.each,urlUtils:{parse:e},getUniqueIdentifierStr:function(){return++o},url:{type:o=0,parse:e,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(y.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return b.url().href;case"bidderTimeout":return v.auction.max_ms;case"consentManagement.cmpApi":return v.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"priceGranularity":return"custom";case"customPriceBucket":return{buckets:(s.libSettings().bid_strategy||"").split(",").map(function(e){var t=e.split(":"),e=t[1].split("-").map(Number);return{precision:2,increment:t[0],min:e[0],max:e[1]}})};default:return b.deepAccess(y.config.config,e)}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof e)return b.err("defaults must be an object, received",e);b.assign(y.config.config,e)}},parse:e,registerBidder:function(){},userSync:{registerSync:function(e,t,n){var r="image"===e||"img"===e?b.uspi:"iframe"===e?b.uspf:void 0;r?r(t,n):b.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:d,loadExternalScript:function(e,t){b.log("module "+t+"is loading external JavaScript"),b.load(e,null,!0)},ajax:function(e,r,t,n){b.ajax(b.assign({},n,{data:t,url:e}),function(e,t,n){e&&r.error?r.error(e.err,e):r.success?r.success(t,n):r(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return v.PBJSObjects.bidRequests}},getStorageManager:function(){var r=b.wrapAsync(function(e,t,n){n=n();return"function"==typeof t?t(n):n});return{findSimilarCookies:function(i,e){return r("findSimilarCookies",e,function(){for(var e=[],t=document.cookie.split(";");t.length;){var n=t.pop(),r=(r=n.indexOf("="))<0?n.length:r;0<=decodeURIComponent(n.slice(0,r).replace(/^\s+/,"")).indexOf(i)&&e.push(decodeURIComponent(n.slice(r+1)))}return e})},getCookie:function(e,t){return r("getCookie",t,function(){return b.cr(e)})},setCookie:function(i,o,a,s,d,e){return r("setCookie",e,function(){var e=d&&""!==d?" ;domain="+encodeURIComponent(d):"",t=a&&""!==a?" ;expires="+a:"",n=null!=s&&"none"==s.toLowerCase()?"; Secure":"",r=s?"; SameSite="+s:"";document.cookie=i+"="+encodeURIComponent(o)+t+"; path=/"+e+r+n})},cookiesAreEnabled:function(e){return r("cookiesAreEnabled",e,function(){return b.cookies})},hasLocalStorage:function(e){return r("hasLocalStorage",e,function(){try{return!!window.localStorage}catch(e){}})},localStorageIsEnabled:function(e){return r("localStorageIsEnabled",e,function(){try{if(localStorage.setItem("adb.cookieTest","1"),"1"===localStorage.getItem("adb.cookieTest"))return!0}catch(e){}return!1})},setDataInLocalStorage:function(e,t,n){return r("setDataInLocalStorage",n,function(){try{window.localStorage.setItem(e,t)}catch(e){}})},getDataFromLocalStorage:function(e,t){return r("getDataFromLocalStorage",t,function(){try{return window.localStorage.getItem(e)}catch(e){}return null})},removeDataFromLocalStorage:function(e,t){return r("removeDataFromLocalStorage",t,function(){try{window.localStorage.removeItem(e)}catch(e){}})}}}};y.isArray=y.utils.isArray,y.isInteger=y.utils.isInteger,y.deepAccess=y.utils.deepAccess,y.generateUUID=y.utils.generateUUID,y.triggerPixel=y.utils.triggerPixel,y.convertTypes=y.utils.convertTypes,y.parseUrl=y.utils.parseUrl,y.inIframe=y.utils.inIframe,y.isBoolean=y.utils.isBoolean,y.isNumber=y.utils.isNumber,y.isStr=y.utils.isStr,y.logError=y.utils.logError,y.logWarn=y.utils.logWarn,t.exports={wrap:function(l){var f={};return function(d,c,e,u,p){this.gdprSupport=l.gdprSupport,this.uspSupport=l.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=l.unitIDKey,n=l.floorKey,r=l.floorStr,i=e,delete(e=b.deepAssign({},i.params)).adjust,e[t]=i.bidder_unit_id,"string"==typeof e[t]&&-1===["undertone","yieldmo","pubmatic"].indexOf(i.bidder_name)&&e[t].match(/^\d+$/)&&(e[t]=parseInt(e[t])),"string"==typeof e.size&&(e.size=b.sizeStrToArr(e.size)),n&&(e[n]=i.min_cpm,r&&(e[n]=e[n].toFixed(2))),!e.video&&i.mediaTypes.video&&(e.video=b.copy(i.mediaTypes.video)),e;var t,n,r,i},this.getPrebidReqCtr=function(e){return(f[e]||0)+1},p&&p.on("pub.spa_pv_shutdown",function(){f={}}),this.execute=function(r){var t={};r.eachBidRequest(d,function(e){e=e.toPrebidAdUnitCode();t[e]||(t[e]=!0,f[e]=(f[e]||0)+1)}),v.auction=r,v.gdpr_consent_object=u,v.alias=d;var i=r.toPrebidBidderReq(d);p.trigger("bidder.requested",i,r),l.floorKey&&l.floorStr&&i.bids.forEach(function(e){e.params[l.floorKey]=String(e.params[l.floorKey])}),i.start=(new Date).getTime();var e={bidderRequest:i,bidRequests:i.bids};v.PBJSObjects=e,"adagio"===d&&b.wrapAsync(l.spec.isBidRequestValid,void 0,l.spec)({params:{}});var o=b.wrapAsync(l.spec.buildRequests,void 0,l.spec)(e.bidRequests,e.bidderRequest);Array.isArray(o)||(o=[o]);var n,a=[],s=(e=d,n={},r.eachBidRequest(e,function(e,t){n[t.id]={config:t,unit:e}}),n);o.map(g).forEach(function(e,n){e.max_ms=r.ajax_ms,h(e,b.wrapAsync(function(e,t){a.push(t),!e&&t&&(t=b.wrapAsync(l.spec.interpretResponse,void 0,l.spec)({body:t},o[n]),Array.isArray(t)||(t=[t].filter(Boolean)),t.forEach(function(e){var t,n,r=s[e.requestId];if(!r)return b.err(["unrequested response from",d,":",JSON.stringify(e)].join(" "));e.requestTimestamp=i.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,t=e,n=r.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&n.renderer?(e=m(e,r),r.unit.addBid(r.config,e)):r.unit.addEmptyBid(r.config),r.found=!0})),a.length===o.length&&(Object.keys(s).map(function(e){return s[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),p.trigger("bidder.done",i,d,r),[].concat(l.spec.getUserSyncs&&b.wrapAsync(l.spec.getUserSyncs,void 0,l.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){y.userSync.registerSync(e.type,c,e.url)}))}))})}}},polyfills:y}},{"./ajax.js":9,"./config.js":12,"./renderer.js":27,"./utils.js":30}],29:[function(e,t,n){var k=e("./utils"),z=e("./analytics"),C=e("./modules"),T=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=k.genID("U"),this.uuid=k.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var v=this,u={},y={},p=0,i={},_=[],l={},o=!1,x=!1,t=!1,w=!1,f=!1,a=[];this.init=function(){e&&(v.set(e),C.trigger("unit.init_config",v))},this.restrictSizesTo=function(e){v.all_sizes=v.original_sizes,k.logl("sz","Unit",v.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(f)),f=e,a.length&&v.allowSizes(a);for(var t,n,r=[],i=v.all_sizes.length-1;0<i;--i)-1===f.indexOf(v.all_sizes[i])&&(t=v.all_sizes[i],v.all_sizes.splice(i,1),0<=(n=v.other_sizes.indexOf(t))&&v.other_sizes.splice(n,1),r.push(t));s(),k.logl("sz","Unit",v.alias,"removed sizes",JSON.stringify(r),"allowed sizes",JSON.stringify(f)),C.trigger("unit.restrict_sizes",v,f,r)},this.allowSizes=function(e){a=[],k.each(e,function(e){k.logl("sz","Unit size added",v.alias,e),f&&-1==f.indexOf(e)&&f.push(e),-1==a.indexOf(e)&&a.push(e),-1==v.other_sizes.indexOf(e)&&v.other_sizes.push(e),-1==v.all_sizes.indexOf(e)&&v.all_sizes.push(e),s()}),k.logl("sz","Unit",v.alias,"allowed sizes",a),C.trigger("unit.allow_sizes",v,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?v.hasOwnProperty(t)&&"function"!=typeof v[t]&&(v[t]=JSON.parse(JSON.stringify(e[t]))):k.each(e[t],function(e,t){v.settings[t]=e}));v.all_sizes=[v.size].concat(v.other_sizes),v.original_sizes=[].concat(v.all_sizes),k.logl("sz","Unit definition original_sizes=",JSON.stringify(v.original_sizes),"size=",JSON.stringify(v.size),"other_sizes=",JSON.stringify(v.other_sizes)),k.qs("adb_force_bidder")&&(v.min_cpm=0),s(),C.trigger("unit.config",v)},this.addBidder=function(e,t){l[e]=t},this.eachBidder=function(e){for(var t in l)l.hasOwnProperty(t)&&u[t]&&e(t,l[t])},this.hasBidReqConf=function(){return 0<p},this.addBidReqConf=function(a,e,t){var s,d={id:k.genID("BR"),uuid:k.genUUID(),unit:v,adjust:1,bidder_name:a,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:v.min_cpm,size:v.size,other_sizes:v.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(){var e=v.auction.getBdrReqId(a),t=v.toPrebidUIDs(),n=k.copy(v.settings.mediaTypes),r=g(n,v.all_sizes),i=v.toPrebidAdUnitCode();s=s||l[a].getPrebidReqCtr(i);var o=v.get("imp_ctr")||1,r=k.assign({src:"client",adUnitCode:i,adbconfig:v.alias,auctionId:v.auction.uuid,bidId:d.id,bidder:a,bidderRequestId:e,bidderRequestsCount:s,bidderWinsCount:0,bidRequestsCount:o,mediaTypes:n,params:d.params,sizes:r,transactionId:v.uuid,renderer:v.settings.renderer},t),t=d.mediaTypes.native||d.nativeParams;return t&&(r.nativeParams=t),r}};if(l[a]){k.deepAssign(d,v.settings,l[a].settings,e.settings),d.params=k.deepAssign({},l[a].settings,e.settings),1!=d.adjust&&(d.min_cpm=Number((d.min_cpm/d.adjust).toFixed(2)));var n=[],r=!1;if("function"==typeof e.mutate&&n.push({n:"BidReq",f:e.mutate}),"function"==typeof l[a].mutate&&n.push({n:"Bidder",f:l[a].mutate}),k.each(n,function(e){e.f(d,t)||(r=!0,k.log(e.n+" mutate rejected BR: ",d))}),!r)if(!d.test||k.qsab(a,d.bidder_id,!0)){if(e.settings.size?d.other_sizes=[]:"string"==typeof d.other_sizes&&(d.other_sizes=d.other_sizes?d.other_sizes.split(","):[]),f){var i=[];0<=f.indexOf(d.size)&&i.push(d.size);for(var o=0;o<d.other_sizes.length;++o){var c=d.other_sizes[o];0<=f.indexOf(c)&&i.push(c)}if(!i.length)return void(f.length&&k.log("Unit ",v.alias," skipped configuration for ",d.bidder_name," because it does not support any of these sizes: ",f));d.size=i[0],d.other_sizes=i.slice(1)}d.all_sizes=[d.size].concat(d.other_sizes),k.logl("sz","Bid request sizes:",d.all_sizes),u[a]||(u[a]=[]),u[a].push(d),y[d.id]=d,++p,d.params=l[a].buildPrebidParams(d),C.trigger("unit.config_brc",v,d)}else k.log("Test configuration skipped: ",d)}else k.err("BR missing bidder",a)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?k.each(u[e],t):k.each(y,t)},this.getBidReqConf=function(e){return y[e]||!1},this.set=function(e,t){if("object"!=typeof e)i[e]=t;else for(var n in e)e.hasOwnProperty(n)&&v.set(n,e[n])},this.setImpData=function(e,t,n){var r=v.get("adb_imp_data")||{};r[e]=n&&r[e]||t,v.set("adb_imp_data",r)},this.get=function(e){return i[e]},this.halt=function(){x=!0},this.onReady=function(e){t=e,S()};var S=function(){w&&t&&setTimeout(function(){t(v)},0)};this.markEmpty=function(e){v.eachBidReqConf(e,function(e){e.responses.length||v.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=y[t]))return void k.err("Could not find bid req: ",t)}e.responses.length||x&&e.late_responses.length||v.addBid(e,{})};function A(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}this.addBid=function(e,t){if(!e||!v.getBidReqConf(e.id))return k.err("Bid request from ",e.bidder_name,"not found on unit",v.id),!1;var n=t.config&&t.config.unit&&t.config.unit.unique_id,r=Number(parseFloat(t.cpm).toFixed(2))||0,i=Number(t.width)||0,o=Number(t.height)||0,a=t.creative||"",s=t.creative_url||"",d=t.extras||{},c=t.force||!1,u=t.render,p=t.vastUrl,l=t.vastXml,f=t.rawbid;r||(t.empty=!0);var g=Number((r*e.adjust).toFixed(2)),m=e.min_cpm;!n&&0<m&&g<m&&(g=0);var h=T.libSettings().pubchkcreativefn;a&&"function"==typeof h&&!h(e,t,T.libSettings())&&(k.log("Creative blocked: ",e.bidder_id,i,o,g,d),g=0);var b=n?t.ts:k.dts(),h=n?t.ms:Math.round(b-v.auction.ts),p={id:v.id+"."+k.genID("B"),ms:h,ts:b,config:e,viable:!x,cpm:g,_min_cpm:m,_bid_cpm:r,force:c,width:i,height:o,creative:a,creative_url:s,extras:d,render:u,vastUrl:p,vastXml:l,rawbid:f};if(n&&((p._origin=t)._pool||(t._pool=[]),t._pool.push(p)),I(p),function(e,t){for(var n=0;n<e.responses.length;++n)if(A(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(A(t,e.late_responses[n]))return!0;return!1}(e,p))return k.log("Unit ",v.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),!1;l=p.viable?"":"late ";!p.cpm&&0<p._bid_cpm?(f=1!=e.adjust?" * "+e.adjust+" = "+Number((p._bid_cpm*e.adjust).toFixed(2)):"",l+="below-floor ("+p._bid_cpm+f+" < "+p._min_cpm+") "):t.empty&&(l+="empty ");n=n?" (pooled from "+n+")":"";return k.log("Unit",v.alias,"got",l+"bid"+n,"from",e.bidder_name,"on BR",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),C.trigger("bid.ready",p),p.pbjsBid&&j(p),p.viable?(e.responses.push(p),_.push(p),C.trigger("bid.response",p),function(){if(!x){for(var e in y){var t=y[e];if(t.responses&&!t.responses.length)return}w=!0,S()}}()):(e.late_responses.push(p),z.lateBid(p)),p},this.getWinner=function(){return o||("function"==typeof T.libSettings().filter_bid&&k.wrapAsync(T.libSettings().filter_bid),k.each(_,function(t){C.trigger("bid.auction_close_filter",v,t),t.blocked&&(t.cpm=0,k.log("Bid filtered out",v.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&f&&-1==f.indexOf(e)&&(!T.libSettings().bypass_size_check||-1==T.libSettings().bypass_size_check.bidder.indexOf(t.config.bidder_name))){var n=t._origin?"(pooled bid from "+t._origin.config.unit.unique_id+")":"";return k.log("Unit ",v.alias,"rejected",n,t.config.bidder_name,"invalid size",e),void(t._origin||k.err("U",v.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,f))}e=t.cpm&&(!o||t.cpm>o.cpm||t.cpm==o.cpm&&.5<Math.random());if(o&&o.force&&(e=!1),t.force||e){o=t;try{function r(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))}r("creative"),r("creative_url")}catch(e){k.err("Macro failed: ",e)}}}),o&&(k.log("Unit ",v.alias,"set winner to ",o.config.bidder_name,o._origin&&"(pooled bid from "+o._origin.config.unit.unique_id+")"||"",o.width+"x"+o.height,o.cpm.toFixed(2)),C.trigger("bid.auction_winner",o))),o},this.toPrebidUIDs=function(){var r=!1;return k.each(i,function(e,t){var n=t.match(/^userId\.(.+)$/),t=t.match(/^userIdAsEids\.(.+)$/);!n&&!t||r||(r={userId:{},userIdAsEids:[]}),n&&(r.userId[n[1]]=e),t&&r.userIdAsEids.push(e)}),r&&r.userIdAsEids.sort(function(e,t){return e.name<t.name?1:-1}),r&&r.userId.pubcid&&(r.crumbs={pubcid:r.userId.pubcid}),r||{}};function r(e,t){return k.toRange(e,t).kv.split("-").shift()}var s=function(){v.settings.mediaTypes||(v.settings.mediaTypes={}),v.settings.mediaTypes.banner={sizes:v.all_sizes.filter(Boolean).map(k.sizeStrToArr)}},g=function(e,t){var n=e.banner?k.copy(e.banner.sizes):[];if(e.video){var r=e.video.playerSize;k.isarr(r[0])||(r=[r]);for(var i=0;i<r.length;++i){var o=r[i].join("x");-1===t.indexOf(o)&&n.push(r[i])}}return n},I=function(e){var t,n=e.config.toPrebid();e.rawbid&&e.viable?(t=k.deepAssign({},e.rawbid,{source:"client",statusMessage:"Bid available",currency:"USD",originalCurrency:"USD",cpm:e.cpm,originalCpm:e._bid_cpm,bidderCode:n.bidder,bidder:n.bidder,requestId:n.bidId,adUnitCode:n.adUnitCode,adbconfig:n.adbconfig,auctionId:n.auctionId,adId:e.id,mediaType:e.rawbid.mediaType,creativeId:e.rawbid.creativeId,netRevenue:e.rawbid.netRevenue,width:e.width,height:e.height}),e.pbjsBidO=k.deepAssign({},t),e.pbjsBid=t):e.pbjsNoBid=n},j=function(e){var t,n=e.width+"x"+e.height,t=(t=e.pbjsBid.cpm,{pbLg:r(t,".5:0-5"),pbMg:r(t,".1:0-20"),pbHg:r(t,".01:0-20"),pbDg:r(t,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:r(t,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:r(t,T.libSettings().bid_strategy)});k.assign(e.pbjsBid,t,{size:n,adserverTargeting:{hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_pb:t.pbMg,hb_size:n,hb_source:"client",hb_format:e.rawbid.mediaType}})};this.toPrebidAdUnitCode=function(){return v.get("dom_id")||v.unique_id},this.toPrebidAdUnit=function(){var e=k.copy(this.settings.mediaTypes),t=g(e,this.all_sizes),n=this.toPrebidUIDs(),r=[];return this.eachBidReqConf(function(e){r.push(k.assign({bidder:e.bidder_name,params:e.params},n))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:r,transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[]};return k.each(_,function(e){return e.pbjsBid?t.bidsReceived.push(e.pbjsBid):e.pbjsNoBid?t.noBids.push(e.pbjsNoBid):e.adbridg_rendered?t.winningBids.push(e.pbjsBid):void 0}),t},this.init()}},{"./analytics":10,"./config":12,"./modules":15,"./utils":30}],30:[function(e,t,S){var r;S.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):S.err("Caught AsyncErr: ",e)}}},S.thread=function(t){return t=S.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},S.attempt=function(e,t){try{return e()}catch(e){}return t};function i(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var n=1,o=(new Date).getTime(),a=function(){try{o-=Math.round(performance.now()),a=function(){return i()+"T"+Math.round(performance.now()).toString(36)},r=[n,o.toString(36),a()]}catch(e){a=function(){return i()+"T"+Math.max(0,(new Date).getTime()-o).toString(36)},r=[n=0,o.toString(36),i()+"T0"]}};a();function f(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}f(document,"readystatechange",function(){var e,t,n;3==i()&&(e=document,t="readystatechange",n=arguments.callee,e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)),r.push(a())}),S.perfts=function(){return a()},S.pgts=function(){return r},S.dts=function(){return n?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-o).toFixed(2))};var s=0;S.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},S.vp=function(){var e,t,n,r=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset,window_x=window.pageXOffset}catch(e){}return{w:e||r.documentElement&&r.documentElement.clientWidth||r.body&&r.body.clientWidth||0,h:t||r.documentElement&&r.documentElement.clientHeight||r.body&&r.body.clientHeight||0,y:n||r.body&&r.body.scrollTop||0,x:window_x||r.body&&r.body.scrollLeft||0}},S.cr=function(e){e=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return e=e?decodeURIComponent(e[2]):""},S.cw=function(e,t,n){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";t=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=t},S.lr=function(t){var e,n="",r="";try{(r=localStorage.getItem(t))&&(r=JSON.parse(r),e=(new Date).getTime(),r.e&&parseInt(r.e,36)<e?S.logl("ls","LS expired",t,r,e):(S.logl("ls","LS read",t,r),n=r.v))}catch(e){S.logl("ls","LS read fail",t,r,e)}return n},S.lw=function(t,n,r){try{var e,i={v:n};r&&(e=(new Date).getTime(),i.s=e.toString(36),i.e=(e+864e5*r).toString(36)),i=JSON.stringify(i),localStorage.setItem(t,i),S.logl("ls","LS written",t,n,r,i)}catch(e){S.logl("ls","LS write fail",t,n,r,e)}},S.sr=function(t){try{return sessionStorage.getItem(t)}catch(e){S.logl("ss","SS read fail",t,localStoragePayload,e)}return val},S.sw=function(t,n){try{sessionStorage.setItem(t,n),S.logl("ss","SS written",t,n)}catch(e){S.logl("ss","SS write fail",t,n,e)}};try{S.cw("adbct",1),S.cookies=!!S.cr("adbct"),S.cw("adbct","",-1)}catch(e){}try{S.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}S.https=!("https:"!=location.protocol),S.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,S.genUUID)}catch(e){return 0}},S.qs=function(e){e=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(e)||[]).pop()};var d=S.qs("adb_force_bidder"),c=S.qs("adb_allow_bidder"),u=[];d&&"*"!=d&&(u=u.concat(d.split(","))),c&&"*"!=c&&(u=u.concat(c.split(","))),S.qsab=function(e,t,n){return t=String(t),"*"==c||"*"==d||(!n&&!d||0<=u.indexOf(t)||0<=u.indexOf(e))},S.qsappend=function(e,t,n,r){return r&&!t?"":(n&&(t=encodeURIComponent(t)),"&"+e+"="+t)},S.toqs=function(e,n){var r="";return S.each(e,function(e,t){S.isarr(e)?S.each(e,function(e){r+=S.qsappend(t+"[]",e,n)}):r+=S.qsappend(t,e,n)}),r.replace(/^\&/,"")},S.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},S.sizeStrToArr=function(e){return S.isarr(e)?e:"string"==typeof e?e.split("x").map(Number):(S.err("BadSizeConvert",e),e)},S.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=n&&(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},S.resize_iframe=function(e,t,n,r){try{for(var i=e.document.getElementsByTagName("iframe")||[],o=0;o<i.length;++o)try{if(i[o].contentDocument===t)return S.resize_element(i[o],n,r),void(e!==top&&S.resize_iframe(e.parent,e.document,n,r))}catch(e){}}catch(e){S.err("Error resizing window to "+n+"x"+r,e)}S.err("Failed to resize window to "+n+"x"+r)},S.url=function(){var t,n,r,i,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,r=e.document.referrer,i=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,i=r=""}catch(e){}}return t&&n||(t=a.location.host,n=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,r=s.referrer),{domain:t,page:n,href:href,referrer:r,title:i,is_top:d,protocol:o}},S.pixel=function(e,t){t=t?(new Date).getTime():Math.random();document.createElement("img").src=e+"&rnd="+t},S.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},S.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+S.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var p,l=[],g={};S.uspf=S.wrapAsync(function(e,t){S.logl("px","UserSync qF",e,g[e],5,t),g[e]=(g[e]||0)+1,5<g[e]||l.push({a:e,t:"f",u:t})}),S.uspi=S.wrapAsync(function(e,t){S.logl("px","UserSync qI",e,g[e],5,t),g[e]=(g[e]||0)+1,5<g[e]||l.push({a:e,t:"i",u:t})});var m=!0,h=!0,b=500;S.cfusp=function(e,t,n){e||(m=!1),t||(h=!1),n&&(b=n),S.log("UserSync set: ",{image:m,iframe:h,delay:b})};var v=S.wrapAsync(function(){if(clearTimeout(p),l.length){var e=Math.floor(Math.random()*l.length),t=l[e];if(l.splice(e,1),h&&"f"==t.t){e=document.createElement("div");e.innerHTML=S.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(e.firstChild),S.log("UserSync (F): ",t.a,t.u)}else{if(!m||"i"!=t.t)return S.log("UserSync not sent (!): ",t),v();document.createElement("img").src=t.u,S.log("UserSync (I): ",t.a,t.u)}p=setTimeout(v,50)}});S.qdusp=function(){if(S.logl("px","UserSync Q",l,b,m,h,S.safari,S.cookies),S.safari||!S.cookies)return S.logl("px","UserSync skipped",S.safari,S.cookies);clearTimeout(p),p=setTimeout(v,b)};var y={};S.load=function(e,t,n,r){if(t=t?S.wrapAsync(t):function(){},!n||!y[e]){n&&(y[e]||(y[e]={ready:!1,cbs:[t]}),t=function(){y[e].ready=!0,S.each(y[e].cbs,function(e){e()})});var i=document.createElement("script");return i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=t,i.src=e,(r||document.body||document.head).appendChild(i),i}y[e].ready?t():y[e].cbs.push(t)},S.loadCached=function(e,t){S.load(e,t,!0)},S.iiframe=function(e){var t=document.createElement("iframe");return t.id=S.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},S.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.prepend?e.prepend(t):e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var _=!(S.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});S.isdebug=function(){return _},S.setdebug=function(e){e&&(_=e,document.cookie="adb_debug="+_+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},S.setdebug(S.qs("adb_debug")||S.cr("adb_debug")),S.log=function(){if(_){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+S.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},S.logl=function(e){_==e&&S.log.apply(S,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var x=[];S.err=function(){var t=Array.prototype.slice.apply(arguments);if(_){var e=[].concat(t);e.unshift("AdBridg | "+S.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}x.length&&S.each(x,function(e){e.apply(null,t)})};var w=!(S.onerr=function(e){x.push(e)}),A=[];S.onrec=function(e){for(w=e;A.length;)w(A.shift())},S.rec=function(e){w?w(e):A.push(e)};var I={};S.toRange=function(e,t){e=Math.round(100*e);for(var n=function(e){if(!I[e=e||".05:.05-10"]){I[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var r=t[n].split(":"),i=r[1].split("-"),i={increment:Math.round(100*parseFloat(r[0])),upper:Math.round(100*parseFloat(i[1])),final:!1};n==t.length-1&&(i.final=i.upper-i.increment),I[e].push(i)}}return I[e]}(t),r=0;r<n.length;++r){var i=n[r];if(i.final&&e>=i.upper-i.increment)return{r:parseFloat(((i.final+i.increment)/100).toFixed(2)),kv:(i.final/100).toFixed(2)+"-"};if(!(e>=i.upper)){var o=Math.floor(e/i.increment)*i.increment/100,a=parseFloat((o+i.increment/100).toFixed(2)),i=a-.01;return{r:a,kv:Math.max(.01,o).toFixed(2)+"-"+i.toFixed(2)}}}};var j=function(e){return 61<e?j(e/62|0)+j(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+j(-e):"NaN"};S.b62=j,S.fb62=function(e){for(var t=0,n=e.length-1,r=n;0<=r;r--){var i=e.charCodeAt(r),o=r===n?1:Math.pow(62,n-r);if(96<i&&i<123)t+=o*(i-87);else if(64<i&&i<91)t+=o*(i-29);else{if(!(47<i&&i<58))return NaN;t+=o*(i-48)}}return t},S.dom=S.wrapAsync(function(e,t,n,r,i,o){k.add(e,t,n,r,i,o)}),S.undom=S.wrapAsync(function(e,t){k.remove(e,t)}),S.lzrescan=S.wrapAsync(function(){k.rescan()});var k=new function(){var t,s={},d=0,c=[],n=!1,r=!1,u=!1;this.add=function(e,t,n,r,i,o){var a;e instanceof Node&&((a=e).id||(a.id=S.genID("adb_auto_")),e=a.id),s[e]=s[e]||[],s[e].push({c:r,d:t,t:n,i:e,f:i,x:o}),d+=1,l()},this.remove=function(e,t){var n,r=s[e]||[];if(t)for(n=r.length-1;0<=n;--n)r[n].c===t&&s[e].splice(n,1);for(t&&r.length||delete s[e],n=c.length-1;0<=n;--n)t&&c[n].c!==t||c.splice(n,1)},this.rescan=function(){S.logl("lz","Lazy explicit rescan"),t=setTimeout(l,0)},f(window,"scroll",function(){u=!0,!t&&d&&(S.logl("lz","Lazy scroll wait",100),t=setTimeout(l,100))});function p(e,t){if(e.f&&!e.f(e,t,u))return S.logl("lz","Lazy blocked",e,u),!1;if(t.in){if(!e.x)return S.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return S.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var r=(n||{}).parentNode;if(!r)return S.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var i=S.where(r);if(!i.in)return S.logl("lz","Lazy collapse check - parent invis",e,t,i),!1;i=document.createElement("span");i.style="position:absolute;display:block;width:1px;height:1px;",r.insertBefore(i,n);n=S.where(i);r.removeChild(i),S.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:n})),t=n}return 0<e.d&&e.d<1?t.v>e.d:t.d<=e.d}var l=S.thread(function(){var a,e=S.dts();clearTimeout(t),t=!1,n||e-r<50?t=setTimeout(l,50):(n=!0,r=e,S.logl("lz","Lazy measure",e),a=[],S.each(s,function(e,t){var n=S.where(t);if(!n)return S.logl("lz","Lazy no dom",t);for(var r=e.length-1;0<=r;--r){var i=e[r],o=p(i,n);S.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:i.d,criteria:o,seenscr:u})),o&&(--d,e.splice(r,1),c.push(i),S.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),S.each(a,function(e){delete s[e]}),e=function(e){for(var t=!1,n=c.length-1;0<=n;--n){var r=c[n],i=r.i;if(S.logl("lz","Lazy check time",r,i," has scroll event: ",u),r.tx){if(!p(r,S.where(i))){S.logl("lz","Lazy back to distance",i),r.tx=0,c.splice(n,1),s[i]=s[i]||[],s[i].push(r),d+=1;continue}}else r.tx=e+r.t;var o=r.tx-e;o<=0?(S.logl("lz","Lazy execute",i),c.splice(n,1),S.thread(r.c)(i)):t=t?Math.min(1+o,t):1+o}return t}(e)||100,c.length&&(S.logl("lz","Lazy duration wait",e),t=setTimeout(l,e)),n=!1)})};S.obox=function(e,t){t={top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left),right:Math.min(e.right,t.right)};return t.width=Math.round(t.right-t.left),t.height=Math.round(t.bottom-t.top),t.area=Math.round(t.width*t.height),t},S.opct=function(e,t,n,r,i){var o=S.obox(t,{top:0,bottom:n.h,left:0,right:n.w}),a=o.area,s=a/(Math.round(t.width)*Math.round(t.height)),d={o:0,p:0,v:s,e:{}};if(!a)return d;var n=o.left+o.width/2,t=o.top+o.height/2,c={mm:[n,t],tl:[o.left,o.top],br:[o.right,o.bottom]};7<=i&&(c.tm=[n,o.top],c.tr=[o.right,o.top],c.bl=[o.left,o.bottom],c.bm=[n,o.bottom]),9<=i&&(c.mr=[o.right,t],c.ml=[o.left,t]);var u,p=[];for(u in c)if(c.hasOwnProperty(u)){var l=c[u],f=document.elementFromPoint(l[0],l[1]);if(r&&f&&(((l=document.getElementById(r))===f||f.contains(l)||l.contains(f))&&(f=!1)),f&&f!==e&&!e.contains(f)&&!f.contains(e)){var g=S.obox(o,f.getBoundingClientRect()),m=0,h=0,b=f,v=b.parentNode;if(!v.contains(e)){for(m+=1;v.parentNode&&!v.parentNode.contains(e);)m+=1,v=v.parentNode;for(;v!==b;){var y=S.obox(o,v.getBoundingClientRect()),_=y.area==g.area,x=h<m;(y.area>g.area||_&&x)&&(g=y,f=v,h=m);for(var y=v,w=0;w<v.children.length;++w)if(v.children[w]===b||v.children[w].contains(b)){--m,v=v.children[w];break}if(v===y)break}}if(-1===p.indexOf(f)&&(p.push(f),d.e[u]={el:f,p:g.area,o:g.area/a},d.p+=g.area,d.o=Math.min(1,d.p/a),d.v=d.o?(1-d.o)*s:s,1===d.o))break}}return d},S.where=function(e,t,n){if("string"==typeof e&&(e=document.getElementById(e)),!e)return!1;var r=e.getBoundingClientRect(),i=S.vp(),o=r.top,a=r.height,s=r.top+a,d="in_viewport",c=0,u=0<r.width&&0<a?1:0,p=0,l=z(e);l&&(p=1,d="unknown"),u&&o<0?(c=s<0?Math.abs(s):0,d=((u=0<s?s/a:0)?"partially_":"")+"above_viewport"):u&&s>i.h&&(c=o>i.h?o-i.h:0,d=((u=o<i.h?(i.h-o)/a:0)?"partially_":"")+"below_viewport");var f=null;return u&&!p&&t&&(f=S.opct(e,r,i,n)),{i:l,p:d,d:c,v:u,in:p,o:f,c:{vp:i,t:o,l:r.left,h:a,w:r.width,b:s}}},S.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},S.copy=function(e){if(S.isarr(e)){for(var t=[],n=0;n<e.length;++n)t.push(S.copy(e[n]));return t}return"object"==typeof e?S.deepAssign({},e):e},S.deepAssign=function(e){if(!e)return e;for(var n=Object(e),t=1;t<arguments.length;t++){var r=arguments[t];S.each(r,function(e,t){n[t]=S.copy(e)})}return n},S.deepAccess=function(e,t,n){e=t.split(".").reduce(function(e,t){return(e||{})[t]},e);return!e&&n?n:e},S.deepEq=function(r,i,o,a){if(a=a||"",(o=o||[]).some(function(e){return e===a}))return!0;if("function"==typeof i&&i(r))return!0;if("object"!=typeof r||"object"!=typeof i||null==r||null==i)return r===i||{p:a,o1:r,o2:i};var e=Object.keys(Object.assign({},r,i)).reduce(function(e,t){var n=a?a+"."+t:t,n=S.deepEq(r[t],i[t],o,n);return n&&n.hasOwnProperty("p")&&n.hasOwnProperty("o1")&&n.hasOwnProperty("o2")?e.push(n):!0!==n&&(e=e.concat(n)),e},[]);return 0===e.length||e};var z=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){S.err("get_invis_fail")}return!1};S.dom_invisible=S.wrapAsync(function(e){var t=document.getElementById(e),n=z(t);if(n)return"el_"+n;for(var r=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(r+=1,n=z(t))return"anc_"+r+"_"+n;return!1})},{}]},{},[14]);